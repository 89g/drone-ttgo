var breakpoints={zero:0,tiny:320,small:544,medium:768,large:960,wide:1280,mobileMaxWidth:767,tabletMinWidth:768,tabletMaxWidth:1024,desktopMinWidth:1025,siteMaxWidth:1200,maxScrollBarWidth:17},DAYS_PER_MONTH=function(a){return[31,0==a%4&&0!=a%100||0==a%400?29:28,31,30,31,30,31,31,30,31,30,31]},VALIDATION_DISPLAY_MODES=["TOOLTIP","BLOCK"],JO_DATE_MIN=new Date("1869","0","1");$(document).scroll(function(){scrollHautPage()});
function scrollHautPage(){if(200<$(window).scrollTop()){if($(".back-top").css("display","flex"),null!=$(".back-top").offset()||void 0!=$(".back-top").offset())$(".back-top").offset().top+$(".back-top").height()>=$(".footer").offset().top-500&&($(".back-top").css("position","absolute"),0===document.documentElement.getElementsByClassName("page-content").length||0===document.querySelector("main.main div.content div.main-col")?$(".back-top").css("bottom","94px"):$(".back-top").css("bottom","65px"),$(".back-top").css("right",
"7px")),$(document).scrollTop()+window.innerHeight<$(".footer").offset().top-80&&($(".back-top").css("position","fixed"),$(".back-top").css("bottom","40px"),(null===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&null===document.querySelector("main.main div.main-col")||void 0===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&void 0===document.querySelector("main.main div.main-col"))&&$(".back-top").css("right",($(window).width()-document.documentElement.getElementsByClassName("page-content")[0].clientWidth)/
2+7+"px"),null===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&null!=document.querySelector("main.main div.main-col")||void 0===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&void 0!=document.querySelector("main.main div.main-col")?$(".back-top").css("right",($(window).width()-document.querySelector("main.main div.main-col").clientWidth)/2+7+"px"):$(".back-top").css("right",($(window).width()-document.querySelector("div.layout-colonne div[class^\x3d'main']").clientWidth-
document.querySelector("div.layout-colonne div[id^\x3d'col']").clientWidth)/2+7+"px"))}else $(".back-top").css("display","none")}
var formValidators={utils:{isValidDate:function(a,b){b="string"==typeof b?b:DEFAULT_DATE_FORMAT;a=a.match(/(\d+)/g);var c=0,d={};b.replace(/(yyyy|dd|mm)/g,function(a){d[a]=c++});return DAYS_PER_MONTH(a[d.yyyy])[a[d.mm]-1]&&a[d.dd]<=DAYS_PER_MONTH(a[d.yyyy])[a[d.mm]-1]&&0<a[d.dd]}},alpha:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z]+$/)).test(a)},message:function(a){return"Le champ doit contenir uniquement des lettres."}},alpha_num:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z0-9]+$/)).test(a)},
message:function(a){return"Le champ doit contenir uniquement des lettres et des chiffres."}},alpha_num_dash:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z0-9-]+$/)).test(a)},message:function(a){return"Le champ doit contenir uniquement des lettres, des chiffres et des tirets."}},between:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&a>=parseFloat(b[0])&&a<=parseFloat(b[1])},message:function(a){return"Le champ doit être un nombre entier compris entre "+
a[0]+" et "+a[1]+"."}},checkbox_required:{validationFunction:function(a,b){return a},message:function(a){return"Veuillez cocher cette case si vous souhaitez continuer."}},date_unique_format:{validationFunction:function(a,b){if(0>=a.length)return!0;switch(b[0]){case "yyyy-mm-dd":return(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&formValidators.utils.isValidDate(a,b[0]);default:return(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&formValidators.utils.isValidDate(a,b[0])}},message:function(a){return"Le champ doit être une date valide au format "+
a[0].replace(/d/g,"j").replace(/y/g,"a")+", par exemple 31/12/2018."}},date_range_format:{validationFunction:function(a,b){if(0>=a.length)return!0;if(-1!==a.indexOf(b[1].trim())){var c=a.split(b[1].trim());a=c[0].trim();c=c[1].trim()}else return!1;switch(b[0]){case "yyyy-mm-dd":return(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(c)&&formValidators.utils.isValidDate(a,b[0])&&formValidators.utils.isValidDate(c,b[0]);default:return(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&
(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(c)&&formValidators.utils.isValidDate(a,b[0])&&formValidators.utils.isValidDate(c,b[0])}},message:function(a){return"Le champ doit être une période de dates valide au format "+a[0]+" "+a[1]+" "+a[0]+"."}},date_multiple_formats:{validationFunction:function(a,b){if(0>=a.length)return!0;var c=0,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];switch(e){case DEFAULT_YEAR_FORMAT:case "yyyy":(new RegExp(/^[0-9]{4}$/)).test(a)&&c++;break;case DEFAULT_MONTH_FORMAT:case "mm/yyyy":(new RegExp(/^[0-9]{2}\/[0-9]{4}$/)).test(a)&&
c++;case "yyyy-mm-dd":(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&formValidators.utils.isValidDate(a,e)&&c++;break;default:(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&formValidators.utils.isValidDate(a,e)&&c++}}return 1===c?!0:!1},message:function(a){return"Le champ doit être une période de dates valide au format "+a.join(" ou ").replace(/d/g,"j").replace(/y/g,"a")+", par exemple 31/12/2018, 2018, ou 12/2018."}},date_year_format:{validationFunction:function(a,b){return(new RegExp(/^[0-9]{4}$/)).test(a)},
message:function(a){return"Le champ doit être une date valide au format "+a[0]+"."}},date_month_format:{validationFunction:function(a,b){return(new RegExp(/^[0-9]{2}\/[0-9]{4}$/)).test(a)},message:function(a){return"Le champ doit être une date valide au format "+a[0]+"."}},date_min_jo:{validationFunction:function(a,b){if(!a)return!0;a=-1!==a.indexOf(DEFAULT_DATE_RANGE_SEPARATOR_TRIM)?a.split(DEFAULT_DATE_RANGE_SEPARATOR_TRIM)[0].trim():a;if(!(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)||
!formValidators.utils.isValidDate(a,DEFAULT_DATE_FORMAT))return!0;a=a.split(DEFAULT_DATE_FORMAT_SEPARATOR);return new Date(a[2],a[1]-1,a[0])>=JO_DATE_MIN},message:function(a){return"Il n'y a pas de contenu disponible à la date indiquée. Veuillez indiquer une date à partir du 01/01/1869."}},email:{validationFunction:function(a,b){return(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)).test(a)},
message:function(a){return"Veuillez saisir une adresse email valide (ex. : nom@exemple.fr)"}},integer:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+$/)).test(a.toString())},message:function(a){return"Le champ doit être un nombre entier positif."}},max:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&a<=parseFloat(b[0])},message:function(a){return"Le champ doit être un nombre entier inférieur à "+a[0]+"."}},min:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&
a>=parseFloat(b[0])},message:function(a){return"Le champ doit être un nombre entier supérieur à "+a[0]+"."}},numeric:{validationFunction:function(a,b){return(new RegExp(/^-?[0-9]+.?[0-9]*$/)).test(a)},message:function(a){return"Le champ doit être un nombre valide."}},not_empty:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Le champ ne doit pas être vide."}},password:{validationFunction:function(a,b){a=zxcvbn(a);console.log("Password score : "+a.score);
return 2<=a.score},message:function(a){return"Le mot de passe saisi n'est pas valide"}},phone_number:{validationFunction:function(a,b){return(new RegExp(/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s\.-]*\d{2}){4}$/)).test(a)},message:function(a){return"Le champ doit être un numéro de téléphone français valide."}},required:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Le champ est requis."}}};
Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a,b){if(null==this)throw TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError("predicate must be a function");for(var e=0;e<d;){var f=c[e];if(a.call(b,f,e,c))return f;e++}},configurable:!0,writable:!0});
$(document).ready(function(){fixAnchorFocus();initCollapsibleRegions();initFacettesToggleButton();initFacettesToggleButtonMobile();showHideElement();initTabs();initGraphicCheckboxes();initGraphicRadiosButtons();initModals();initPanelGestionDesCookies();initFormValidation();initSkipLinks();initContentTables();initSectionClasses();initTips();managePageTitle();if(0<$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").length){var a=$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id");$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked")||
$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").prop("checked","true"===Cookies.get("seeAbrogated-"+a));showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a)}getOverlay();resizeOverlay();copyFunction()});
function fixAnchorFocus(){$("body").on("click",'a[href^\x3d"#"]:not([href\x3d"#"])',function(a){a.preventDefault();var b=$(this).attr("href");$("html, body").animate({scrollTop:$(b).offset().top},0,function(){focusTarget(b)})});window.location.hash&&focusTarget(window.location.hash)}function focusTarget(a){a=$(a);a.focus();a.is(":focus")||(a.attr("tabindex",-1),a.focus(),a.removeAttr("tabindex"))}function sortNumber(a,b){return a-b}
function findNextIndex(){var a="0",b=$("button[id^\x3d'label_expand_']");if(null!=b&&0<b.length){var c=[];b.each(function(){c.push(parseInt($(this).attr("id").split("label_expand_")[1]))});c.sort(sortNumber);a=c[c.length-1]+1}return a}
function initCollapsibleRegions(){var a=$(".js-expandmore"),b=$("body"),c=window.location.hash.replace("#","");a.length&&a.each(function(a){a=$(this);var b=findNextIndex(),d=a.data(),d="undefined"!==typeof d.hideshowPrefixClass?d.hideshowPrefixClass+"-":"",g=a.next(".js-to_expand"),h=a.html(),k=a.children(".js-expandmore-button");if(0===k.length){a.html('\x3cbutton type\x3d"button" class\x3d"'+d+'expandmore__button js-expandmore-button"\x3e\x3cspan class\x3d"expand-sign" aria-hidden\x3d"true"\x3e\x3c/span\x3e'+
h+"\x3c/button\x3e");k=a.children(".js-expandmore-button");g.addClass(d+"expandmore__to_expand").stop().delay(1500).queue(function(){var a=$(this);a.hasClass("js-first_load")&&a.removeClass("js-first_load")});k.attr("id","label_expand_"+b);k.attr("data-controls","expand_"+b);k.attr("aria-expanded","false");g.attr("id","expand_"+b);g.attr("data-hidden","true");g.attr("data-labelledby","label_expand_"+b);if(g.hasClass("is-opened")||""!==c&&g.find($("#"+c)).length)k.addClass("is-opened").attr("aria-expanded",
"true"),g.removeClass("is-opened").removeAttr("data-hidden");a.prev(".option-radio").find("input[type\x3dradio]").not(":checked").length&&a.find(".expandmore__button").addClass("not-checked")}});b.on("click",".js-expandmore-button",function(a){var b=$(this),c=$("#"+b.attr("data-controls"));"false"===b.attr("aria-expanded")?(b.addClass("is-opened").attr("aria-expanded","true"),c.removeAttr("data-hidden")):(b.removeClass("is-opened").attr("aria-expanded","false"),c.attr("data-hidden","true"));a.preventDefault();
a.stopImmediatePropagation()});b.on("click keydown",".js-expandmore",function(a){var b=$(this),c=$(a.target),b=b.find(".js-expandmore-button");if(!(c.is(b)||c.closest(b).length||"click"!==a.type&&("keydown"!==a.type||13!==a.keyCode&&32!==a.keyCode)))return b.trigger("click"),!1});b.on("click keydown",".js-expandmore-all",function(a){var b=$(this),c=b.attr("data-expand"),d=$(".js-expandmore-button"),h=$(".js-to_expand");if("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode))"true"===
c?(d.addClass("is-opened").attr("aria-expanded","true"),h.removeAttr("data-hidden"),b.attr("data-expand","false").html("Tout replier")):(d.removeClass("is-opened").attr("aria-expanded","false"),h.attr("data-hidden","true"),b.attr("data-expand","true").html("Tout déplier"))});b.on("click",".option-radio",function(a){var b=$(this);a=b.find("input[type\x3dradio]");b=b.next().find(".expandmore__button");a.is(":checked")&&(b.removeClass("not-checked"),$(".facette-radio .option-radio ").each(function(a,
b){a=$(b).find("input[type\x3dradio]");b=$(b).next().find(".expandmore__button");a.is(":checked")?b.removeClass("not-checked"):b.addClass("not-checked")}))})}function initFormValidation(){$(document).find("button[type\x3d'submit']").parents("form").each(function(a,b){var c=$(b);c.on("submit",function(a){return isValidForm(c)})})}
function isValidForm(a){var b=a.find("input[data-validation]");a=a.find("textarea[data-validation]");var c=[],d=[];$(".block-input-errors").remove();$(".tooltip-input-errors").remove();b.each(function(a,b){a=$(this);b=checkAllValidators(a);b.length&&(c.push(a),d=d.concat(b))});a.each(function(a,b){a=$(this);b=checkAllValidators(a);b.length&&(c.push(a),d=d.concat(b))});return d.length?(c[0].focus(),!1):!0}
function checkAllValidators(a){var b=a.val();"checkbox"===a.attr("type")&&(b=a.prop("checked"));var c=a.data("validation").split(","),d=a.data("validationDisplayMode");-1==VALIDATION_DISPLAY_MODES.indexOf(d.toUpperCase())&&(d=VALIDATION_DISPLAY_MODES[0]);var e=[];$(c).each(function(a,c){c=c.trim();error=checkValidator(b,c);null!=error&&e.push(error)});return showErrors(e,a,d)}function showErrors(a,b,c){return 0===a.length?(b.css("border",""),a):constructErrors(a,b,c)}
function constructErrors(a,b,c){c=initializeAlert(a.length,b.attr("data-label"),c,b.attr("id"));var d=$(c).find(".alert-content");1===a.length?(d.text(a[0]),d.prepend($("\x3cstrong\x3e\x3c/strong\x3e").text("Erreur : "))):d.append(buildErrorList(a));b.is('[type\x3d"checkbox"]')||b.is('[type\x3d"radio"]')?c.insertBefore(b):c.insertAfter(b);b.css("border","2px solid red");c=b.attr("id")+"-error";b.attr("aria-describedby",c);return a}
function initializeAlert(a,b,c,d){var e=$("\x3cdiv\x3e\x3c/div\x3e").attr("role","alert").attr("aria-live","assertive").attr("aria-relevant","additions removals").addClass("alert alert-danger").addClass(c+"-input-errors");e.append($("\x3cspan\x3e\x3c/span\x3e").attr("aria-hidden","true").addClass("icon"));e.append($('\x3cdiv id\x3d"'+d+'-error"\x3e\x3c/div\x3e').addClass("alert-content"));if(1<a){e.addClass("alert-bloc");var f=$(e).find(".alert-content");f.append($("\x3cp\x3e\x3c/p\x3e").append($("\x3cstrong\x3e\x3c/strong\x3e").text("Erreurs : ")));
c.toUpperCase()!==VALIDATION_DISPLAY_MODES[0]&&f.append($("\x3cp\x3e\x3c/p\x3e").text("Le champ "+b+" contient "+a+" erreur(s)"))}c.toUpperCase()===VALIDATION_DISPLAY_MODES[0]&&e.append($('\x3cdiv class\x3d"alert-close"\x3e\x3c/div\x3e').append($('\x3cbutton type\x3d"button" onclick\x3d"changeCSSDate(\'#'+d+'\');" class\x3d"alert-close-cta" title\x3d"Fermer le message"\x3e\x3c/button\x3e').text("Fermer").prepend($('\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e'))));return e}
function changeCSSDate(a){$(a).css("border","")}function buildErrorList(a){var b=$("\x3cul\x3e\x3c/ul\x3e");$(a).each(function(a,d){b.append($("\x3cli\x3e\x3c/li\x3e").text(d))});return b}function checkValidator(a,b){var c=[],d=b.indexOf("(");-1!=d&&(c=b.substring(d+1,b.length-1).split(";"),b=b.substring(0,d));return formValidators[b].validationFunction(a,c)?null:formValidators[b].message(c)}
function isDeviceMobile(){var a=window.navigator.userAgent.toLowerCase(),b=function(b){return-1!==a.indexOf(b.toLowerCase())};return!b("windows")&&b("android")&&b("mobile")||!b("windows")&&b("iphone")||b("ipod")||b("windows")&&b("phone")||(b("blackberry")||b("bb10")||b("rim"))&&!b("tablet")||(b("(mobile")||b("(tablet"))&&b(" rv:")||b("meego")}
function initCookieDisclaimer(){var a=!1,b=function(){Cookies.set("lfCookieDisclaimer","1",{expires:30,secure:!0})};(a=Cookies.get("lfCookieDisclaimer"))?b():($("header").prepend("\x3cdiv class\x3d'cookies' role\x3d'alert'\x3e\x3cdiv class\x3d'container'\x3e\x3cp\x3eEn poursuivant votre navigation sans modifier vos paramètres de témoins de connexion, vous acceptez l'utilisation des cookies.\x3ca href\x3d'/contenu/pied-de-page/mentions-legales'\x3eVoir notre politique de confidentialité\x3c/a\x3e\x3c/p\x3e\x3cbutton id\x3d'close-cookie-disclaimer' class\x3d'btn btn-link btn-close' title\x3d'Fermer le bandeau cookie'\x3eFermer\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"),
a=$(".cookies").outerHeight(),$("header").css("margin-top",a),$(".cookies").css("margin-top","-"+a+"px"),$("#close-cookie-disclaimer").on("click touch",function(a){b();$(".cookies").hide();$("header").css("margin-top",0)}))}
function initPanelGestionDesCookies(){if(!getCookie("tarteaucitron")||null==getCookieID("tarteaucitron")){var a=uuidv4(),b=new Date,c=new Date;c.setTime(b.getTime()+31536E6);var d="expires\x3d"+c.toUTCString();document.cookie="tarteaucitron\x3d!id\x3d"+a+"!atinternet\x3dtrue!hotjar\x3dfalse;"+d+";path\x3d/;secure";d="atinternet;true;"+b.toISOString()+";"+c.toISOString();b="hotjar;false;"+b.toISOString()+";"+c.toISOString();a={id:encodeURIComponent(a),atinternet:d,hotjar:b};ajaxCookieSendContent("/cookie/setAllCookies",
a)}$(".btnGestionCookies").on("click keypress",function(a){a.preventDefault();tarteaucitron.userInterface.openPanel()});$("#hotjar_local").on("click keypress",function(a){$("#_hj_feedback_container").length||panelAllowCookies("Hotjar")});btnCookiesModal();showHotjarLocal()}function panelAllowCookies(a){$("#cookiesModalName").html(a);$("#idCookiesModal").css("display","block")}
function btnCookiesModal(){$(".cookiesModalBtnClose").on("click keypress",function(a){$("#idCookiesModal").css("display","none")});$(".cookiesPersonaliseBtn").on("click keypress",function(a){tarteaucitron.userInterface.openPanel();$("#idCookiesModal").css("display","none")});$(".cookiesAcceptBtn").on("click keypress",function(a){"Hotjar"==$("#cookiesModalName").html()&&(tarteaucitron.userInterface.respond(document.getElementById("hotjarAllowed"),!0),$("#hotjar_local").css("display","none"));$("#idCookiesModal").css("display",
"none")});var a=document.getElementById("idCookiesModal");window.onclick=function(b){b.target==a&&(a.style.display="none")}}function showHotjarLocal(){var a=getCookie("tarteaucitron"),b=getCookie("_hjIncludedInSample");b&&"1"==b?$("#hotjar_local").css("display","none"):a&&a.includes("hotjar\x3dtrue")&&$("#hotjar_local").css("display","none")}
function ajaxCookieSendContent(a,b){$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:a,type:"GET",data:b,dataType:"html",success:function(a,b){},error:function(a,b,e){}})}
function uuidv4(){function a(){return Math.random(Date.now().toString(36).substr(4,4)).toString(16).slice(-4)+Math.random().toString(16).slice(-4)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function getCookieID(a){if(a=getCookie(a))if(a=a.split("id\x3d"),"undefined"!==typeof a[1]&&null!==a[1]&&""!==a[1])return a[1].split("!")[0];return null}
function initFacettesToggleButton(){$(".js-hide-col").on("click keypress",function(a){if(!0===a11yClick(a)){a.preventDefault();a=$(this);var b=a.find(".text"),c=b.text(),d=a.attr("data-on"),e=a.attr("data-off"),f=a.parents(".layout-colonne"),g=f.find(".col-left-content"),f=f.find(".col-left-header");c==d?(g.hide(),f.hide(),a.attr("aria-expanded","false"),a.parents(".layout-colonne").addClass("column-hidden"),b.text(e),a.attr("title",e)):(g.show(),f.show(),a.attr("aria-expanded","true"),a.parents(".layout-colonne").removeClass("column-hidden"),
b.text(d),a.attr("title",d))}});$(".js-hide-col-in").on("click keypress",function(a){if(!0===a11yClick(a)){a.preventDefault();a=$(this);var b=a.parents(".layout-colonne"),c=b.find(".col-left-content"),b=b.find(".hide-col"),d=b.find(".text"),e=b.attr("data-off");c.hide();a.attr("aria-expanded","false");a.parents(".layout-colonne").addClass("column-hidden");b.attr("aria-expanded","false");b.attr("title",e);d.text(e)}})}
function initFacettesToggleButtonMobile(){var a=$(".col-left-content"),b=$(".layout-colonne .js-hide-col"),c=b.find(".text"),d=b.attr("data-off"),e=b.attr("data-on");$(window).width()<breakpoints.tabletMinWidth?(a.hide(),b.attr("aria-expanded","false"),b.parents(".layout-colonne").addClass("column-hidden"),b.attr("title",d),c.text(d)):(a.show(),b.attr("aria-expanded","true"),b.parents(".layout-colonne").removeClass("column-hidden"),c.text(e),b.attr("title",e))}
function bindChronoDetailButton(){$(".detail-timeline button").click(function(a){a.preventDefault();a=$(this).parents(".detail-timeline").siblings(".content-detail-timeline").find(".content-tip-timeline");toggleTip($(this),a)})}
function showHideElement(){var a=$(".js-list-expanded");a.find("button.expanded").click(function(a){a.preventDefault();var b=$(this);a=b.find("span");var d=b.parent(),e=d.find("\x3e .js-child"),f=b.parents(".js-list-expanded").attr("data-on"),b=b.parents(".js-list-expanded").attr("data-off");e.is(":visible")||0==e.is(":visible")&&0===e.length&&d.hasClass("opened")?($(this).removeClass("opened").attr("aria-expanded","false"),d.removeClass("opened"),a.text(b)):($(this).addClass("opened").attr("aria-expanded",
"true"),d.addClass("opened"),a.text(f))});a.find("button.expanded-button-title").click(function(a){a.preventDefault();var b=$(this);a=b.find("span");var d=b.parents("li"),e=d.find("\x3e .js-child"),f=b.parents(".js-list-expanded").attr("data-on"),b=b.parents(".js-list-expanded").attr("data-off");e.is(":visible")?($(this).removeClass("opened").attr("aria-expanded","false"),d.removeClass("opened"),a.text(b)):($(this).addClass("opened").attr("aria-expanded","true"),d.addClass("opened"),a.text(f))});
$(".button-expand button").click(function(a){a=$(this).parents("li");a.hasClass("opened")?(a.removeClass("opened"),$(this).attr("aria-expanded","false")):(a.addClass("opened"),$(this).attr("aria-expanded","true"))});$(".js-toggle-sommary").click(function(a){a.preventDefault();a=$(this);var b=a.text(),d=$(".code-consommation-list button.expanded"),e=d.parent(),f=a.attr("data-on"),g=a.attr("data-off");b==f?(d.removeClass("opened").attr("aria-expanded","false"),e.removeClass("opened"),a.text(g),a.attr("aria-expanded",
"false")):(d.addClass("opened").attr("aria-expanded","true"),e.addClass("opened"),a.text(f),a.attr("aria-expanded","true"))});bindChronoDetailButton();a=$(".content-tip-folder");a.attr("aria-hidden",!0);$('[class^\x3d"link-folder-option"]').click(function(a){a.preventDefault();a=$(this).siblings(".content-tip-folder");toggleTip($(this),a)});a.find("li:last-child \x3e a").focusout(function(){toggleTip($(this).parents(".folder-option").find(".link-folder-option"),$(this).parents(".content-tip-folder"))});
$(".tabs-secondary-content").attr("aria-hidden",!0);$(".js-tab-secondary").click(function(a){a.preventDefault();a="#"+$(this).attr("data-tip");a=$(a);var b=a.find(".js-first");$(this).siblings(".js-tab-secondary").attr("aria-expanded","false").removeClass("opened");$(this).siblings(".tabs-secondary-content").attr("aria-hidden","true");toggleTip($(this),a);b.focus()});a=$(".picto-info");a.siblings(".content-tip-info").attr("aria-hidden",!0);a.hover(function(){$(this).attr("aria-expanded","true").addClass("opened");
$(this).siblings(".content-tip-info").attr("aria-hidden","false")},function(){$(this).attr("aria-expanded","false").removeClass("opened");$(this).siblings(".content-tip-info").attr("aria-hidden","true")});a.focus(function(){$(this).attr("aria-expanded","true").addClass("opened");$(this).siblings(".content-tip-info").attr("aria-hidden","false")}).blur(function(){$(this).attr("aria-expanded","false").removeClass("opened");$(this).siblings(".content-tip-info").attr("aria-hidden","true")})}
function initTips(){$(document).on("keydown",function(a){27==a.keyCode&&closeToggleTip()})}function closeToggleTip(){var a=$('.share-link, .parameter-link, [class^\x3d"link-folder-option"]'),b=$("#tip-share, #tip-parameter, .content-tip-folder");a.each(function(){$(this).attr("aria-expanded","false").removeClass("opened")});b.each(function(){$(this).attr("aria-hidden","true")})}function showTip(a,b){a.attr("aria-expanded","true").addClass("opened");b.attr("aria-hidden","false")}
function hideTip(a,b){a.attr("aria-expanded","false").removeClass("opened");b.attr("aria-hidden","true")}function toggleTip(a,b){a.hasClass("opened")?hideTip(a,b):showTip(a,b)}
function initTabs(){if(0!=$("#tabs").length){var a=$(".tabs__item a"),b=0,c=$(".tabs__list"),d=$("#tabs .prev-tab"),e=$("#tabs .next-tab"),f=!0;a.each(function(a,d){a=$(d);b+=a.parent("li").width();a.on("focus",function(a){var b=$(this).innerWidth();a=$(this).position();var b=b+a.left,d=c.position(),e=c.parent().width();0>a.left?c.parent().animate({scrollLeft:-d.left-200},250):b>e&&c.parent().animate({scrollLeft:-d.left+200},250)})});var g=function(){c.length&&-c.position().left>=c.width()-c.parent().width()?
e.hide():!isDeviceMobile()||f?e.show():e.hide();0==c.parent().scrollLeft()?d.hide():!isDeviceMobile()||f?d.show():d.hide()};$(".prev-tab").on("click",function(){var a=c.position();c.parent().animate({scrollLeft:-a.left-200},{duration:250})});$(".next-tab").on("click",function(){var a=c.position();c.parent().animate({scrollLeft:-a.left+200},{duration:250})});var h=null;c.parent().on("scroll",function(){null!==h&&clearTimeout(h);h=setTimeout(function(){g();f=!1},50)});var k=null;$(window).on("resize",
function(){null!==k&&clearTimeout(k);k=setTimeout(function(){setTabsWidth(b);g()},50)});setTabsWidth(b);$("#tabs .tabs__item a[aria-selected\x3dtrue]").focus();c.parent().scroll()}}function setTabsWidth(a){$(".tabs__list").css("width",a);$(".tabs").width()>=breakpoints.siteMaxWidth&&$(".tabs").css("overflow","hidden")}
function selectCheckboxe(a,b){if(!0===a11yClick(a)){var c=$(this).siblings(".js-child").find('span[role\x3d"button"]:not([disabled])');a=$(this).parents("li").find('\x3e span[role\x3d"button"]:not([disabled])').not($(this));"true"==$(b).attr("aria-pressed")?($(b).attr("aria-pressed","false"),$(b).children("img").attr("src","/resources/images/checkbox_empty.svg")):($(b).attr("aria-pressed","true"),$(b).children("img").attr("src","/resources/images/checkbox_check.svg"));0!=c.length&&("true"==$(this).attr("aria-pressed")?
c.each(function(){$(this).attr("aria-pressed","true");$(this).children("img").attr("src","/resources/images/checkbox_check.svg")}):c.each(function(){$(this).attr("aria-pressed","false");$(this).children("img").attr("src","/resources/images/checkbox_empty.svg")}));0<a.length&&(c=countChildCheckboxes($(this)),0==c?(a.attr("aria-pressed","true"),a.children("img").attr("src","/resources/images/checkbox_check.svg")):1==c?(a.attr("aria-pressed","false"),a.children("img").attr("src","/resources/images/checkbox_empty.svg")):
2==c&&(a.attr("aria-pressed","false"),a.children("img").attr("src","/resources/images/checkbox_full.svg")));a=b.closest("form");"form_sommaire_jo"!==a.attr("id")?a.hasClass("form-liste")?facetteSoumission("/liste"):facetteSoumission("/search"):facetteJorfSoumission(b)}}
function initGraphicCheckboxes(){$(".js-reset-checkbox").click(function(a){a.preventDefault();a=$(this);var b=a.text(),c=a.attr("data-on"),d=a.attr("data-off"),e=a.parents(".checkboxes-container"),f=e.find('input[type\x3d"checkbox"]:not([disabled])'),e=e.find('span[role\x3d"button"]:not([disabled])');b==c?(f.each(function(){$(this).prop({checked:!1})}),e.each(function(){$(this).attr("aria-pressed","false");$(this).find("img").attr("src","/resources/images/checkbox_empty.svg")}),a.text(d)):(f.each(function(){$(this).prop({checked:!0})}),
e.each(function(){$(this).attr("aria-pressed","true");$(this).find("img").attr("src","/resources/images/checkbox_check.svg")}),a.text(c));b=a.closest("form");"form_sommaire_jo"!==b.attr("id")?b.hasClass("form-liste")?facetteSoumission("/liste"):facetteSoumission("/search"):facetteJorfSoumission(a)});$('.checkboxes-container.button-checkboxes span[role\x3d"button"]:not([disabled])').on("click keypress touch",function(a){$(this).attr("disabled")&&"disabled"==$(this).attr("disabled")||selectCheckboxe(a,
$(this))})}
function initModals(){$("#modal-timeline, #modal-compare").on("shown.bs.modal",function(a){$(this).attr("aria-hidden","false")});$("#modal-timeline, #modal-compare").on("hidden.bs.modal",function(a){$(this).attr("aria-hidden","true")});$("#modal-compare").on("shown.bs.modal",function(a){a=$(".compare-content .col:first-child .removed");var b=$(".compare-content .col:last-child .removed-clear");b.each(function(a){$(this).data("data-removed-clear",a)});a.each(function(a){var c=$(this);c.data("data-removed",a);
b.each(function(b){var d=$(this);b==a&&(b=c.height(),d.height(b))})});a=$(".compare-content .col:last-child .added");var c=$(".compare-content .col:first-child .added-clear");c.each(function(a){$(this).data("data-added-clear",a)});a.each(function(a){var b=$(this);b.data("data-added",a);c.each(function(c){var d=$(this);c==a&&(c=b.height(),d.height(c))})})})}
function initSkipLinks(){$(".skip-link a").on("focus",function(){$(this).parents(".container").addClass("skip-link-focus")}).on("blur",function(){$(this).parents(".container").removeClass("skip-link-focus")})}function initSectionClasses(){$("label.title-link").next().find(".name-article:first").parent().addClass("noborder")}
function initContentTables(){function a(a){a=$(this);a.next(".table-responsive").toggle();"Cacher le tableau"==a.text()?a.text("Afficher le tableau"):a.text("Cacher le tableau")}$(".page-content").find("table").wrap("\x3cdiv class\x3d'table-responsive'\x3e\x3c/div\x3e");if(window.matchMedia("screen and (max-width: 47.938em)").matches){var b=$(".page-content").find(".table-responsive");$('\x3ca href\x3d"javascript:;" class\x3d"displayTable"\x3eAfficher le tableau\x3c/a\x3e').insertBefore(b);$(".displayTable").click(a);
b.hide()}}function countChildCheckboxes(a){var b=a.parent().siblings().find('span[role\x3d"button"]:not([disabled])'),c=b.length+1,d=0,e=0;"true"==a.attr("aria-pressed")?d+=1:"false"==a.attr("aria-pressed")&&(e+=1);b.each(function(){"true"==$(this).attr("aria-pressed")?d+=1:"false"==$(this).attr("aria-pressed")&&(e+=1)});return c==d?"0":c==e?"1":"2"}
function initGraphicRadiosButtons(){$('.radios-container.button-radios span[role\x3d"button"]:not([disabled])').on("click keypress",function(a){var b=$(this).parents("li").siblings().find('span[role\x3d"button"]');!0===a11yClick(a)&&("true"==$(this).attr("aria-pressed")?($(this).attr("aria-pressed","false"),$(this).children("img").attr("src","/resources/images/radio_empty.svg")):($(this).attr("aria-pressed","true"),$(this).children("img").attr("src","/resources/images/radio_check.svg"),b.attr("aria-pressed",
"false"),b.children("img").attr("src","/resources/images/radio_empty.svg")))})}
+function(a){var b=function(b,d){var e;e=b.nodeName.toLowerCase();if("area"===e){d=b.parentNode;e=d.name;if(!b.href||!e||"map"!==d.nodeName.toLowerCase())return!1;b=a("img[usemap\x3d'#"+e+"']")[0];return!!b&&c(b)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"===e?b.href||d:d)&&c(b)},c=function(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length};a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,
b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||0<=d)&&b(c,!e)}});var d=a.fn.modal.Constructor.prototype.enforceFocus,e=a.fn.modal.Constructor.prototype.hide,f=a.fn.modal.Constructor.prototype.show;a(".modal-dialog").attr({role:"document"});a.fn.modal.Constructor.prototype.hide=function(){e.apply(this,arguments);a(document).off("keydown.bs.modal")};a.fn.modal.Constructor.prototype.show=
function(){f.apply(this,arguments);if(this.$element){var a=this.$element.find(":tabbable").filter(":focusable");0<a.length&&a[0].focus()}};a.fn.modal.Constructor.prototype.enforceFocus=function(){var b=this.$element.find(":tabbable"),c=b[b.length-1],e=b[0];a(document).on("keydown.bs.modal",a.proxy(function(b){var d=9===b.keyCode,f=b.shiftKey&&d,d=!b.shiftKey&&d,g=a(b.target).is(e),h=a(b.target).is(c);g&&f?(c.focus(),b.preventDefault()):h&&d&&(e.focus(),b.preventDefault())},this));d.apply(this,arguments)}}(jQuery);
window.onresize=function(){stickyScrollFunction()};window.onscroll=function(){stickyScrollFunction()};
function stickyScrollFunction(){var a=$("#stickyScrollDefault");if($("#stickyScrollDefault").length)if(a=a.offset().top,window.pageYOffset>=a){$("#stickyScroll").css("display","block");recupSubTitleOfSection(".jorf-section-title");recupSubTitleOfSection(".section-non-selectionne");a=$("#stickyScrollSearch").length?!0:!1;"undefined"===typeof document.querySelectorAll(".head-code-page .chronolegi-block")[0]&&a&&($("#stickyScrollSearch").remove(),a=!1);a||$("#stickyScrollTitre").css("width","100%");
var b=document.querySelectorAll("#stickyScrollTitre .ssTitre")[0],c=document.querySelectorAll("#stickyScrollTitre .ssSubTitre")[0];a&&(700>screen.width||700>window.innerWidth)?($("#stickyScrollTitre").css("width","100%"),$("#stickyScrollSearch").css("display","none")):a&&1200<screen.width&&1200<window.innerWidth?($("#stickyScrollTitre").css("width","80%"),$("#stickyScrollSearch").css("width","20%"),$("#stickyScrollSearch").css("display","inline-block")):a&&700<screen.width&&700<window.innerWidth&&
($("#stickyScrollTitre").css("width","75%"),$("#stickyScrollSearch").css("width","25%"),$("#stickyScrollSearch").css("display","inline-block"));if("undefined"!==typeof c)if(700<screen.width&&700<window.innerWidth){var d=getSizeToShow(b,c,"subTitre",a);c.innerHTML=parseString(c.getAttribute("defaultValue"),d,"subTitre")}else c.innerHTML="";"undefined"!==typeof b&&(d=getSizeToShow(b,c,"titre",a),b.innerHTML=parseString(b.getAttribute("defaultValue"),d,"titre"))}else $("#stickyScroll").css("display",
"none")}
function recupSubTitleOfSection(a){var b=$(a).length?!0:!1,c=$(".ssSubTitre").length?!0:!1;b&&!c&&(b="\x3clabel class\x3d'ssTitre' style\x3d'font-size:1.125em;color:#4a5e81;' defaultValue\x3d'"+$(".ssTitre").html().replace(/'/g,"\x26#039;")+"'\x3e"+$(".ssTitre").html()+"\x3c/label\x3e",c="\x3clabel class\x3d'ssSubTitre' style\x3d'font-size:0.9em;color:#aaa;' defaultValue\x3d' : \x3ci\x3e"+$(a).html().replace(/'/g,"\x26#039;")+"\x3c/i\x3e'\x3e : \x3ci\x3e"+$(a).html()+"\x3c/i\x3e\x3c/label\x3e",a=
"\x3cspan class\x3d'ssTooltip'\x3e\x3cspan\x3e"+$(".ssTitre").html()+"\x3c/span\x3e\x3cspan\x3e : "+$(a).html()+"\x3c/span\x3e\x3c/span\x3e",$("#stickyScrollTitre").html(b+" "+c+" "+a))}
function parseString(a,b,c){if(!(a.length<b))if("titre"==c)a.includes(" ...")||(a=a.substring(0,b)+" ...");else if(a.includes("(Article")){c=a.indexOf("(Article");var d=a.substring(c,a.length);a=a.substring(0,c);a.length>b-d.length&&(a=a.substring(0,b));a.includes(" ...")||(a+=" ...");a=a+" "+d}else a=a.substring(0,b);return a}
function getSizeToShow(a,b,c,d){var e="undefined"!==typeof a?!0:!1,f=140,g=100;d||(f=180,g=140);return"titre"==c?"undefined"!==typeof b?(window.innerWidth*g/1900).toFixed(0):(window.innerWidth*f/1900).toFixed(0):e?a.getAttribute("defaultValue").length<window.innerWidth*g/1900?(window.innerWidth*f/1900).toFixed(0)-a.getAttribute("defaultValue").length-10:(window.innerWidth*f/1900).toFixed(0)-window.innerWidth*g/1900-10:(window.innerWidth*f/1900).toFixed(0)}
function getOverlay(){$(document).ajaxSend(function(){var a=$(".layout-colonne .main-col").innerWidth();$("#overlay").fadeIn("slow");$("#overlay").css("width",a)});$(document).ajaxComplete(function(){$("#overlay").fadeOut("slow")})}function resizeOverlay(){$(window).resize(function(){var a=$(".layout-colonne .main-col").innerWidth();$("#overlay").css("width",a)})}function removeLinks(a){stringNoL=a.replace(/<a ([\s\S]*?)">/g,"");return stringNoL=stringNoL.replace(/<\/a>/g,"")}
function copyTitle(){var a=[],b=!1,c=document.getElementsByClassName("head-code-page");if(0!=c.length)for(headChild=c[0].children,c=0;c<headChild.length;c++)"main-title"==headChild[c].className||"main-title-light"==headChild[c].className?(b=!0,a.push("\x3ch2\x3e"+$(headChild[c]).text()+"\x3c/h2\x3e")):"SPAN"!=headChild[c].tagName&&"P"!=headChild[c].tagName||a.push(removeLinks(headChild[c].outerHTML));0==b&&(b=document.getElementsByClassName("main-title"),c=document.getElementsByClassName("main-title-light"),
0!=b.length?a.unshift("\x3ch2\x3e"+$(b[0]).text()+"\x3c/h2\x3e"):0!=c&&a.unshift("\x3ch2\x3e"+$(c[0]).text()+"\x3c/h2\x3e"));return a.join("")}
function copyMid(){var a=[],b=document.getElementsByClassName("vigor-title"),c=document.getElementsByClassName("frame-block");if(0<b.length){for(c=0;c<b.length;c++)a.push("\x3ch4\x3e"+b[c].innerHTML+"\x3c/h4\x3e");return a.join("")}if(0<c.length)for(var b=/<h2([\s\S]*?)>|<dt>/g,d=/<\/h2>|<\/dt>/g,e=0;e<c.length;e++)frameMin=c[e].outerHTML.replace(b,"\x3ch3\x3e"),frameMin=frameMin.replace(d,"\x3c/h3\x3e"),a.push(removeLinks(frameMin));return a.join("")}
function getArticle(a){list=[];titre=a.getElementsByClassName("name-article");if(0<titre.length)var b=titre[0].id.split("-").length;noTitre=a.getElementsByClassName("unnamed-article");0==titre.length&&0<noTitre.length&&(b=noTitre[0].id.split("-").length);if(0<b)return b=20*(b-1)+10,0<titre.length?list.push('\x3ch4 style\x3d"margin-left: '+b+'px"\x3e'+titre[0].textContent+"\x3c/h4\x3e"):0==titre.length&&0<noTitre.length&&list.push(""),date=a.getElementsByClassName("date"),0<date.length&&list.push('\x3cp style\x3d"font-size: 16px;font-weight: bold;margin-left: '+
b+'px"\x3e'+date[0].textContent+"\x3c/p\x3e"),content=a.getElementsByClassName("content"),0<content.length&&list.push('\x3cp style\x3d"font-size: 16px;margin-left: '+b+'px"\x3e'+content[0].textContent+"\x3c/p\x3e"),nota=a.getElementsByClassName("nota"),0!=nota.length&&list.push('\x3cp style\x3d"font-size: 12px;margin-left: '+b+'px"\x3e'+nota[0].textContent+"\x3c/p\x3e"),list.join("")}
function addElementsTolist(a,b){if(0<b.length){for(var c=0;c<b.length;c++)if("none"!=b[c].style.display){subElements=b[c].children;for(var d=0;d<subElements.length;d++)"none"!=subElements[d].style.display&&("ARTICLE"==subElements[d].tagName?a.push(articleIndentation(subElements[d])):"LABEL"==subElements[d].tagName?a.push(titleIndentation(subElements[d])):"UL"==subElements[d].tagName&&addElementsTolist(a,subElements[d].children))}return a.join("")}}
function titleIndentation(a){var b=a.id.split("-");return 0!=b.length?2==b.length?"\x3ch3\x3e"+a.textContent+"\x3c/h3\x3e":'\x3ch4 style\x3d"margin-left: '+20*(b.length-1)+'px"\x3e'+a.textContent+"\x3c/h4\x3e":a}function articleIndentation(a){return getArticle(a)}
function copyArticles(){var a=[],b=document.getElementsByClassName("page-content"),c=document.getElementsByTagName("ARTICLE");0==b.length&&(b=document.getElementsByClassName("content-page"));var d=b[0].getElementsByTagName("ARTICLE");if(0==d.length&&0==c.length)return a.push(removeLinks(b[0].innerHTML)),a.join("");if(0==d.length&&0!=c.length){for(b=0;b<c.length;b++)a.push(getArticle(c[b]));return a.join("")}if(1==d.length)return article=document.getElementsByTagName("ARTICLE"),a.push(getArticle(article[0])),
a.join("");if(1<d.length){c=b[0].children;for(b=0;b<c.length;b++)"UL"==c[b].tagName?(d=addElementsTolist([],c[b].children),a.push(d)):"see-abrogated"==c[b].className||c[b].className.match(/(.*?)doc-download(.*?)/)||c[b].className.match(/(.*?)summary-recall(.*?)/)||"conteneurSommaire"==c[b].id||"summary-link closed"==c[b].className||a.push('\x3cp style\x3d"font-size: 16px"\x3e'+removeLinks(c[b].textContent)+"\x3c/p\x3e");return a.join("")}}
function copyFunction(){button=document.getElementsByClassName("copy-cta");0!=button.length&&document.querySelector(".copy-cta").addEventListener("click",function(){header=copyTitle();mid=copyMid();list=copyArticles();copyToClipBoard(header,mid,list)})}
function copyToClipBoard(a,b,c){var d=document.createElement("div");d.innerHTML=a+b+c;d.style.position="fixed";d.style.pointerEvents="none";d.style.opacity=0;a=Array.prototype.slice.call(document.styleSheets).filter(function(a){return!a.disabled});document.body.appendChild(d);window.getSelection().removeAllRanges();b=document.createRange();b.selectNode(d);window.getSelection().addRange(b);for(b=0;b<a.length;b++)a[b].disabled=!0;document.execCommand("copy");for(b=0;b<a.length;b++)a[b].disabled=!1;
document.body.removeChild(d)}function validateTroncatureSearchAdvancesSltFond(a){validateTroncatureSearchPrecise(a,"ALL");$("#select-tab").val(a);$(".item-advanced-search").find(".search-select").find(".btn-cta").each(function(){var a=$(this).attr("id").replace("-control","");validateTroncatureSearchAdvancesSltChmp("select-target-group",a,"ALL","true")})}
function validateTroncatureSearchAdvancesSltChmp(a,b,c,d){"false"==d?validateTroncatureSearchPreciseQueryResult(c):"true"==d&&(validateTroncatureSearchPrecise("",c),"select-target-group"==a?(b=b.replace("select-target-group-",""),""!==c&&$("#"+a+"-"+b+"-control").val(c),3==b.split("-").length?$("#"+a+"-"+b+"-control").closest("fieldset").find(".search-input").find("input").each(function(){var a=$(this).attr("id"),a=a.replace("input-search-","");validateTroncatureSearchAdvance(a,"")}):validateTroncatureSearchAdvance(b,
"")):"select-refine"==a&&($("#"+a+"-"+b).val(c),validateTroncatureSearchAdvance(b,"")))}
function validateTroncatureSearchAdvance(a,b){0<b.length&&(b="-"+b);var c=b=a+""+b;a.includes("block-block")?(c=a.replace("block-block-",""),a=c.split("-"),2==a.length?c=a.join("-")+"-1":2<a.length&&(c=a[0]+"-"+a[1]+"-1")):a.includes("block")&&(c=a.replace("block-",""),a=c.split("-"),2==a.length?c=a.join("-")+"-1":2<a.length&&(c=a[0]+"-"+a[1]+"-1"));a=!1;var d=$("#select-refine-"+b);if(d.length&&"EXACT"!==d.val()){var c=$("#select-target-group-"+c+"-control"),d=c.length?!0:!1,e=$("#select-tab");d&&
isConcernedWithValidation(c.val(),e.val())&&$("#input-search-"+b).length&&(c=$("#input-search-"+b).val().trim(),isRechercheExacte(c)||(a=isTroncatureNonvalid(c)))}a?($("#input-search-"+b).css("border","2px solid red"),a=$("#error-"+b),(c=a.length?!0:!1)||$("#input-search-"+b).closest(".one-rule-wrapper").after('\x3cdiv id\x3d"error-'+b+'" role\x3d"alert" aria-live\x3d"assertive" aria-relevant\x3d"additions removals" class\x3d"alert alert-danger block-input-errors" style\x3d"margin-bottom: 0em;"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"courriel-error" class\x3d"alert-content"\x3e\x3cstrong\x3eErreur : \x3c/strong\x3eLa troncature (*) et/ou (?) doit suivre ou précéder au moins trois caractères consécutifs.\x3c/div\x3e\x3c/div\x3e')):
($("#input-search-"+b).css("border","0"),a=$("#error-"+b),(c=a.length?!0:!1)&&a.remove())}function isTroncatureNonvalid(a){if(a.includes("*")||a.includes("?")){a=a.split(" ");for(var b=0;b<a.length;b++)if((a[b].includes("*")||a[b].includes("?"))&&!/([A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,}\*|\*[A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,}|[A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,}\?|\?[A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,})/.test(a[b]))return!0}return!1}
function applyOrHideErrorMsg(a,b,c,d,e){if(a){$("#"+b).css("border","2px solid red");a=$("#error-"+b);var f=a.length?!0:!1;f||($("#"+b).closest("."+c).after('\x3cdiv id\x3d"error-'+b+'" role\x3d"alert" aria-live\x3d"assertive" aria-relevant\x3d"additions removals" class\x3d"alert alert-danger block-input-errors" style\x3d"margin-bottom: 0em;"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"courriel-error" class\x3d"alert-content"\x3e\x3cstrong\x3eErreur : \x3c/strong\x3eLa troncature (*) et/ou (?) doit suivre ou précéder au moins trois caractères consécutifs.\x3c/div\x3e\x3c/div\x3e'),
e&&(document.getElementById(d).disabled=!0))}else if($("#"+b).css("border","0"),a=$("#error-"+b),f=a.length?!0:!1)a.remove(),e&&(document.getElementById(d).disabled=!1)}function isConcernedWithValidation(a,b){return"TITLE"==a||("lawarticledecree"==b||"jorf"==b||"code"===b)&&"ARTICLE"==a||("constit"==b||"cetat"==b||"juri"==b||"jufi"==b)&&"TEXTE"==a?!0:!1}
function validateTroncatureSearchPrecise(a,b){var c=!0,d=$("#query").val(),e=$("#searchField-control");b=""==b?e.val():b;e=$("#search-select-filter-content");a=""==a?e.val():a;void 0!=d&&(d=d.trim(),isRechercheExacte(d)?applyOrHideErrorMsg(!1,"query","search-base","submitPreciseSearch",!0):isConcernedWithValidation(b,a)?(d=isTroncatureNonvalid(d),c=!d,applyOrHideErrorMsg(d,"query","search-base","submitPreciseSearch",!0)):applyOrHideErrorMsg(!1,"query","search-base","submitPreciseSearch",!0));return c}
function validateTroncatureSearchPreciseQueryResult(a){var b=!0,c=$("#query-result").val(),d=$("#search-select-filter-field-01"),e=$("#tab_selection");a=""==a?d.val():a;e=e.val();c=c.trim();isRechercheExacte(c)?applyOrHideErrorMsg(!1,"query-result","search-input","reload-search-button",!0):isConcernedWithValidation(a,e)?(c=isTroncatureNonvalid(c),b=!c,applyOrHideErrorMsg(c,"query-result","search-input","reload-search-button",!0)):applyOrHideErrorMsg(!1,"query-result","search-input","reload-search-button",
!0);return b}function isRechercheExacte(a){var b=/"$/;return/^"/.test(a)&&b.test(a)}"use strict";$(document).ready(function(){initPrint();initHeaderDate()});function initPrint(){$("body").on("click","button.print, .options-item.type-print .options-cta",function(){console.log("print");window.print()});window.onbeforeprint=function(){switchFieldsets()};window.onafterprint=function(){restoreFieldsets()}}
function initHeaderDate(){var a=new Date,b={day:"numeric",month:"long",year:"numeric"},c=a.toLocaleDateString();toLocaleDateStringSupportsLocales&&(c=a.toLocaleDateString("fr-FR",b));$(".header-date").text(c)}function toLocaleDateStringSupportsLocales(){try{(new Date).toLocaleDateString("i")}catch(a){return"RangeError"===a.name}return!1}
function switchFieldsets(){$("fieldset").each(function(){var a=$(this),b=getAttributes(a),c=$("\x3cdiv/\x3e");c.attr(b);c.addClass("print-fieldset");a.wrapInner(c);a.children(".print-fieldset").unwrap()});(-1<navigator.userAgent.toLowerCase().indexOf("firefox")||"netscape"===navigator.appName.toLowerCase())&&replaceContentClassName()}
function restoreFieldsets(){$(".print-fieldset").each(function(){var a=$(this),b=getAttributes(a),c=$("\x3cfieldset/\x3e");c.attr(b);c.removeClass("print-fieldset");a.wrapInner(c);a.children("fieldset").unwrap()});(-1<navigator.userAgent.toLowerCase().indexOf("firefox")||"netscape"===navigator.appName.toLowerCase())&&restoreContentClassName()}function getAttributes(a){var b={};$.each(a[0].attributes,function(a,d){b[d.name]=d.value});return b}
function replaceContentClassName(){var a=document.getElementsByClassName("content");Array.from(a).forEach(function(a){a.className="contentPrint"});a=document.getElementsByClassName("breadcrumb");Array.from(a).forEach(function(a){a.className="breadcrumbPrint"});a=document.getElementsByClassName("print-page");Array.from(a).forEach(function(a){a.className="print-pagePrint"})}
function restoreContentClassName(){var a=document.getElementsByClassName("contentPrint");Array.from(a).forEach(function(a){a.className="content"});a=document.getElementsByClassName("breadcrumbPrint");Array.from(a).forEach(function(a){a.className="breadcrumb"});a=document.getElementsByClassName("print-pagePrint");Array.from(a).forEach(function(a){a.className="print-page"})}"use strict";
function a11yClick(a){if("click"===a.type||"touch"===a.type)return!0;if("keypress"===a.type){if(a=a.charCode||a.keyCode,32===a||13===a)return!0}else return!1}"use strict";$(document).ready(function(){activeOpenMenu();initMainMenu();initMainMenuMobile()});
function initMainMenu(){var a=$(".menu-desktop .main-menu"),b=a.width(),c=function(){var b=a.find("li.menu-item.active-item ul.sub-menu.level-two");if(b.length){var c=$(window).width(),d=a.width();b.show();b.css("left",-(c-d)/2);b.width(c);b=b.height();$(".header-bottom").css("margin-top",b)}};c();var d=a.find("ul.level-one \x3e li.menu-item").not(":first");d.each(function(c,e){var g=$(e),h=function(c){b=a.width();c.addClass("hover");d.parent().children("ul.level-two").not(".active-item").hide();
c=c.find("ul.level-two");c.hasClass("active-item")||(c.show(),c.css("left",-($(window).width()-b)/2),c.width($(window).width()))};g.on("mouseenter",function(a){a=$(a.currentTarget);h(a)});g.children("a").on("focus",function(b){var c=$(this).closest("ul.level-one \x3e li.menu-item");a.find("ul.level-one \x3e li.menu-item.expanded.hover, ul.level-one \x3e li.menu-item.small-menu.expanded.hover").not(".active-item").each(function(){var a=$(this);c!=a&&l(a)});b=$(b.currentTarget).parent("li.menu-item");
h(b)});var l=function(a){var b=a.not(".active-item").find("ul.level-two");0!=b.length&&(d.parent().children("ul.level-two").not(b).hide(),f=setTimeout(function(){var c=!1,d=b.children("li.menu-item").children("a");d.each(function(a,b){$(b).is(":focus")&&(c=!0)});if(b.is(":hover"))b.on("mouseleave",function(c){a.removeClass("hover");b.hide()});else c?d.each(function(e,g){$(g).on("blur",function(e){c=!1;0!=$(g).parent().children("ul.level-three").length&&(c=!0);f=setTimeout(function(){d.each(function(a,
b){$(b).is(":focus")&&(c=!0)});c||(a.removeClass("hover"),b.hide())},10)})}):(a.removeClass("hover"),b.hide())},10))};g.on("mouseleave",function(a){a=$(a.currentTarget);l(a)});g.children("a").on("blur",function(a){a=$(a.currentTarget).parent("li.menu-item");l(a)});$(document).on("keyup",function(a){if(27==a.which){a=g.not(".active-item").find("ul.level-two");var b=g.filter(".active-item").find("ul.level-two").find("li.hover");g.removeClass("hover");a.hide();b.removeClass("hover")}})});var e=a.find("ul.level-two").children("li.menu-item");
e.each(function(a,b){a=$(b);a.on("mouseenter",function(a){$(a.currentTarget).addClass("hover")});a.children("a").on("focus",function(a){a=$(a.currentTarget).parent("li.menu-item");a.addClass("hover");e.not(a).removeClass("hover")});a.on("mouseleave",function(a){$(a.currentTarget).removeClass("hover")});a.children("a").on("blur",function(a){var b=$(a.currentTarget).parent("li.menu-item");if(0!=b.children("ul.level-three").length){var c=!1;f=setTimeout(function(){b.children("ul.level-three").children("li.menu-item").children("a").each(function(a,
b){$(b).is(":focus")&&(c=!0)});c||b.removeClass("hover")},10)}else b.removeClass("hover")})});var f=null;$(window).on("resize",function(){null!==f&&clearTimeout(f);f=setTimeout(function(){a.find(".menu-item.active-item a").mouseleave();c()},100)})}
function initMainMenuMobile(){var a=$(".button-burger"),b=$(".menu-block"),c=$(".menu-mobile .main-menu"),d=c.find(".menu-item.expanded \x3e a");a.on("click",function(a){$(".top-content .button-burger").hasClass("opened-menu")?(b.hide(),$(this).attr("aria-expanded","false"),$(this).removeClass("opened-menu")):(b.show(),$(this).addClass("opened-menu"),$(this).attr("aria-expanded","true"))});b.hide();$(".top-content .button-burger").attr("aria-expanded","false").removeClass("opened-menu");c.find(".menu-item.expanded \x3e a").attr("aria-expanded",
"false");d.on("click keypress",function(a){!0===a11yClick(a)&&(a.preventDefault(),"false"==$(this).attr("aria-expanded")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false"))})}
function activeOpenMenu(){$("#filAriane").find("li:not(.home)").each(function(){var a=$(this).children("a")[0],b="";a?b=a.pathname+a.search:(a=$(this).children("strong[aria-current\x3d'page']")[0])&&(b=$(a).attr("data-ref"));b&&(b=$(".main-menu a[href$\x3d'"+b+"']"),0<b.length&&b.each(function(){this.title+=" - actif";$(this).parent().addClass("active-item")}))})}"use strict";$(document).ready(function(){initComparison()});
function initComparison(){$("body").on("shown.bs.modal",function(){var a=$(".compare-content");0<a.length&&a.find("table").each(function(){var a=$(this);if(0==a.parent(".table-scroll").length){var c=$('\x3cdiv class\x3d"table-scroll"\x3e\x3c/div\x3e');c.insertAfter(a);a.appendTo(c)}})})}"use strict";
var DEFAULT_DATE_FORMAT_SEPARATOR="/",DEFAULT_DATE_FORMAT="dd"+DEFAULT_DATE_FORMAT_SEPARATOR+"mm"+DEFAULT_DATE_FORMAT_SEPARATOR+"yyyy",DEFAULT_YEAR_FORMAT="yyyy",DEFAULT_MONTH_FORMAT="mm"+DEFAULT_DATE_FORMAT_SEPARATOR+"yyyy",DEFAULT_DATE_RANGE_SEPARATOR=" \x3e ",DEFAULT_DATE_RANGE_SEPARATOR_TRIM=DEFAULT_DATE_RANGE_SEPARATOR.trim(),DATEPICKER_RESULT_TYPES=["UNIQUE","RANGE"],DEFAULT_DATEPICKER_LABEL="Choisir la date",DEFAULT_DATEPICKER_RANGE_LABEL="Choisir toute cette période";$(document).ready(function(){initDatepickers()});
function initDatepickers(){$(".date-selector").each(function(a,b){instanciateDp(a,b)})}
function instanciateDp(a,b){var c=$(b).find(".input-date"),d=c.closest(".search-date");a={};a.resultType=DATEPICKER_RESULT_TYPES[0];$(b).hasClass("ds-unique")?a.resultType=DATEPICKER_RESULT_TYPES[0]:$(b).hasClass("ds-range")&&(a.resultType=DATEPICKER_RESULT_TYPES[1]);a.disabledDates=[];a.minDate=null;a.maxDate=null;a.buttonText=DEFAULT_DATEPICKER_LABEL;if($(b).data("disabled-dates")){var e=$(b).data("disabled-dates").split(" ");a.disabledDates=e}$(b).data("min-date")&&(a.minDate=$(b).data("min-date"));
$(b).data("max-date")&&(a.maxDate=$(b).data("max-date"));$(b).data("datepicker-label")&&(a.buttonText=$(b).data("datepicker-label"));instantiateDatepicker(c,a);if(0<c.closest(".search-date-range").length&&0<d.siblings(".search-date").length||0<c.closest("#cnil_search_refine_date_start").length||0<c.closest("#cnil_search_refine_date_end").length)addRangeButton($(b)),c.on("blur",function(){var a=c.val();if(""===a||""!==a&&formValidators.date_multiple_formats.validationFunction(a,[DEFAULT_DATE_FORMAT,
DEFAULT_YEAR_FORMAT,DEFAULT_MONTH_FORMAT]))""!==a&&formValidators.date_year_format.validationFunction(a,[DEFAULT_YEAR_FORMAT])?(a=getYearRange(a),setDateRange(a,$(b),c)):""!==a&&formValidators.date_month_format.validationFunction(a,[DEFAULT_MONTH_FORMAT])?(a=a.split(DEFAULT_DATE_FORMAT_SEPARATOR),a=getMonthRange(a[1],a[0]),setDateRange(a,$(b),c)):(""===a||""!==a&&formValidators.date_unique_format.validationFunction(a,[DEFAULT_DATE_FORMAT]))&&updateDateRange(d,a)});d.find(".input-group-addon").on("focusout",
function(){1==isCalendarOpen($(this),"ds-range")&&closeCalendar(c)});c.closest(".wrapper-datepicker").find(".input-group-addon").on("focusout",function(){1==isCalendarOpen($(this),"ds-unique")&&closeCalendar(c)})}function isCalendarOpen(a,b){$container=null;$container="ds-unique"==b?a.closest(".ds-unique"):a.closest(".search-date");a=!1;if(0<$container.find(".below").length||0<$container.find(".above").length)a=!0;return a}
function closeCalendar(a){$(document).on("keyup",function(b){9==b.which&&(a.select(),$(document).off("keyup"));b=$(document).find(".below").length;var c=$(document).find(".above").length;0==b&&0==c&&$(document).off("keyup")})}
function instantiateDatepicker(a,b){var c=-1,d=-1;a.datepicker({theme:"",min:b.minDate,max:b.maxDate,datesDisabled:b.disabledDates,buttonLabel:b.buttonText,buttonTitle:b.buttonText,gainFocusOnConstruction:!1,onUpdate:function(e){if(b.resultType===DATEPICKER_RESULT_TYPES[1]){var f=a.datepicker("getDate");c=d;d=f;var g;-1===c&&(c=f);c===d?a.val(e):-1===d?(d=c,a.val(e)):(f=convertDateToString(new Date(Date.UTC(Math.min(c,d)))),g=convertDateToString(new Date(Date.UTC(Math.max(c,d)))),a.val(f+DEFAULT_DATE_RANGE_SEPARATOR+
g))}if(0<a.closest(".search-date-range").length||0<a.closest("#cnil_search_refine_date_start").length||0<a.closest("#cnil_search_refine_date_end").length)f=a.closest(".search-date"),updateDateRange(f,e);e=a.attr("id").replace("_start","").replace("_end","");changeDateRangeEvent(e)}})}
function addRangeButton(a){var b=a.find(".input-date"),c=a.find(".datepicker-calendar"),d=$('\x3cbutton type\x3d"button" class\x3d"btn datepicker-range-button"\x3e'+DEFAULT_DATEPICKER_RANGE_LABEL+"\x3c/button\x3e");c.append(d);a.on("ab.datepicker.opening",function(){setRangeButtonTitle(d,b)});c.find('[class^\x3d"datepicker-"]').on("click",function(){setRangeButtonTitle(d,b)});d.on("click",function(){var c=getDatepickerRange(b);setDateRange(c,a,b)&&b.datepicker("hide")})}
function setRangeButtonTitle(a,b){b=getDatepickerRange(b);a.attr("title",DEFAULT_DATEPICKER_RANGE_LABEL+" : du "+b.start+" au "+b.end)}function changeDateRangeEvent(a){var b=$("#"+a+"_start"),c=$("#"+a+"_end");b.length&&c.length&&(b=b.val(),0<c.val().length&&(b+=DEFAULT_DATE_RANGE_SEPARATOR+c.val()),$("#"+a).val(b))}
function setDateRange(a,b,c){b=b.closest(".search-date");var d=b.prevAll(".search-date").eq(0),e=b.nextAll(".search-date").eq(0);if(0<d.length||0<e.length){var f,g,h;0<d.length&&(h=d,g=a.start,f=a.end);0<e.length&&(f=a.start,h=e,g=a.end);c.val(f);h.find(".date-selector .input-date").val(g);resetDatepickerOptions(b);resetDatepickerOptions(h);updateDateRange(b,f);updateDateRange(h,g);a=c.attr("id").replace("_start","").replace("_end","");changeDateRangeEvent(a);return!0}}
function updateDateRange(a,b){var c=a.prevAll(".search-date").eq(0),d=a.nextAll(".search-date").eq(0),e=a.find("input"),f=!1;""===e.val()&&(f=!0);if(0<c.length||0<d.length){var g,h;0<c.length&&(g="max",h=c.find("input"),updateOtherDate(e,c,b,g,f));0<d.length&&(g="min",h=d.find("input"),updateOtherDate(e,d,b,g,f));!0===f&&null!=h&&""===h.val()&&resetDatepickerOptions(a)}}
function updateOtherDate(a,b,c,d,e){var f=b.find("input");a=a.datepicker("getDate");var g=d+"-date",h={};if(b=b.find(".date-selector").data(g))if(b=getDateFromString(b),!0===e)h[d]=b;else{if("min"===d&&a>b||"max"===d&&a<b)h[d]=a}else h[d]=!0===e?null:a;for(var k in h)h.hasOwnProperty(k)&&f.datepicker(k,h[k]);!1===e&&(""!==f.val()?(e=getDateFromString(f.val()),("min"===d&&a>e||"max"===d&&a<e)&&f.val(c)):f.val(c))}
function resetDatepickerOptions(a){var b=a.find(".input-date"),c=null,d=null;a.find(".date-selector").data("min-date")&&(c=getDateFromString(a.find(".date-selector").data("min-date")));a.find(".date-selector").data("max-date")&&(d=getDateFromString(a.find(".date-selector").data("max-date")));b.datepicker("min",c);b.datepicker("max",d)}
function getDatepickerRange(a){var b=a.data("ab.datepicker");a=a.closest(".date-selector").find(".datepicker-calendar");var c=new Date,d=new Date;0===b.gridType?(c=new Date(Date.UTC(b.year,b.month,1)),d=new Date(Date.UTC(b.year,b.month+1,0))):1===b.gridType?(c=new Date(Date.UTC(b.year,0,1)),d=new Date(Date.UTC(b.year+1,0,0))):2===b.gridType&&(b=parseInt(a.find(".datepicker-grid .year").first().text(),10),a=parseInt(a.find(".datepicker-grid .year").last().text(),10),c=new Date(Date.UTC(b,0,1)),d=new Date(Date.UTC(a+
1,0,0)));return{start:convertDateToString(c),end:convertDateToString(d)}}function getYearRange(a){a=parseInt(a,10);var b=new Date(Date.UTC(a,0,1));a=new Date(Date.UTC(a+1,0,0));return{start:convertDateToString(b),end:convertDateToString(a)}}function getMonthRange(a,b){a=parseInt(a,10);b=parseInt(b,10)-1;var c=new Date(Date.UTC(a,b,1));a=new Date(Date.UTC(a,b+1,0));return{start:convertDateToString(c),end:convertDateToString(a)}}
function getDateFromString(a){var b=a.split(DEFAULT_DATE_FORMAT_SEPARATOR);a=parseInt(b[2],10);var c=parseInt(b[1],10)-1,b=parseInt(b[0],10);return new Date(Date.UTC(a,c,b))}function convertDateToString(a){var b=a.getUTCFullYear(),c=a.getUTCMonth()+1;a=a.getUTCDate();10>c&&(c="0"+c);10>a&&(a="0"+a);return a+DEFAULT_DATE_FORMAT_SEPARATOR+c+DEFAULT_DATE_FORMAT_SEPARATOR+b}
$.fn.datepicker.Constructor.prototype.populateYearsCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevYearButtonLabel);this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextYearButtonLabel);this.hideObject(this.$fastprev);this.hideObject(this.$fastnext);null!=this.options.min&&this.year-1<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevYearButtonLabel),
this.$prev.addClass("enabled"),this.$prev.removeClass("disabled"));this.$monthObj.attr("title",this.options.changeRangeButtonLabel);null!=this.options.max&&this.year+20>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextYearButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var a=10*Math.floor(this.year/10),b=a+19,c=1,d=this.$grid.find("tbody");this.$monthObj.html(a+
"-"+b);this.hideObject(this.$grid.find("thead"));d.empty();$("#datepicker-err-msg-"+this.id).empty();for(var e='\t\x3ctr id\x3d"row0-'+this.id+'" role\x3d"row"\x3e\n',f=a;f<=b;f++){var e=f==this.year?e+('\t\t\x3ctd id\x3d"cell'+(f-a+1)+"-"+this.id+'" class\x3d"year curYear selectable"'):null!=this.options.min&&f<this.options.min.getFullYear()?e+('\t\t\x3ctd id\x3d"cell'+(f-a+1)+"-"+this.id+'" class\x3d"year unselectable"'):null!=this.options.max&&f>this.options.max.getFullYear()?e+('\t\t\x3ctd id\x3d"cell'+
(f-a+1)+"-"+this.id+'" class\x3d"year unselectable"'):this.options.isYearDisabled&&this.options.isYearDisabled(f)?e+('\t\t\x3ctd id\x3d"cell'+(f-a+1)+"-"+this.id+'" class\x3d"year unselectable"'):e+('\t\t\x3ctd id\x3d"cell'+(f-a+1)+"-"+this.id+'" class\x3d"year selectable"'),e=e+(' data-value\x3d"'+f+'"'),e=e+(' title\x3d"'+f+'"'),e=e+(' role\x3d"gridcell" tabindex\x3d"-1" aria-selected\x3d"false"\x3e'+f),e=e+"\x3c/td\x3e",g=f-a;if(4==g||9==g||14==g)e+='\t\x3c/tr\x3e\n\t\x3ctr id\x3d"row'+c+"-"+this.id+
'" role\x3d"row"\x3e\n',c++}d.append(e+"\t\x3c/tr\x3e");this.gridType=2};$.fn.datepicker.Constructor.prototype.showYearsOfPrevRange=function(a){if(null!=this.options.min&&this.year-1<this.options.min.getFullYear())return!1;this.year-=20;this.populateYearsCalendar();null!=a&&(a="cell"+(20-a)+"-"+this.id,this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a));return!0};"use strict";$(document).ready(function(){initDateSelects()});
function initDateSelects(){$(".date-select").each(function(){var a=$(this),b=a.find(".form-select").first(),c=a.find(".form-select").last();b.on("change",function(a){a=b.find("option:selected").index();var d=c.find("option:selected"),f=d.index(),g=c.find("option").eq(a);if(f>a||0===f)d.prop("selected",!1),g.prop("selected",!0);g.nextAll("option").prop("disabled",!0);g.prop("disabled",!1);g.prevAll("option:not(:empty)").prop("disabled",!1);c.prop("disabled",!1)})})}"use strict";$(document).ready(function(){initRadioSwitch()});
function initRadioSwitch(){$("body").on("click",".form-radio-switch label",function(a){a.preventDefault();var b=$(this);a=b.closest(".form-radio-switch");b=b.closest(".form-radio-switch").find("input");!0!==b.prop("disabled")&&(!0===b.prop("checked")?(b.prop("checked",!1),a.siblings(".form-radio-switch").first().find("input").prop("checked",!0)):b.prop("checked",!0))})}"use strict";$(document).ready(function(){initCollapsible()});
function initCollapsible(){$("body").on("click",".js-collapsible-cta",function(a){a=$(this);var b=a.closest(".js-collapsible");"false"===a.attr("aria-expanded")?openCollapsible(b):closeCollapsible(b)});$("body").on("click focusin",function(a){a=$(a.target).parents(".js-collapsible");$(".js-collapsible.is-expanded").not(a).each(function(){var a=$(this);"true"===a.attr("data-collapsible-close")&&closeCollapsible(a)})});$("body").on("keypress",".js-collapsible-content",function(a){var b=$(a.target).closest(".js-collapsible"),
c=b.find(".js-collapsible-cta").first();27===(a.charCode||a.keyCode)&&(closeCollapsible(b),focusTarget(c))})}function openCollapsible(a){var b=a.find(".js-collapsible-cta").first(),c=$("#"+b.attr("aria-controls"));b.attr("aria-expanded","true");a.addClass("is-expanded");c.attr("aria-hidden","false");a.trigger("collapsible-open")}
function closeCollapsible(a){var b=a.find(".js-collapsible-cta").first(),c=$("#"+b.attr("aria-controls"));b.attr("aria-expanded","false");a.removeClass("is-expanded");c.attr("aria-hidden","true");a.trigger("collapsible-close")}function toogleEltById(a){a=document.getElementById(a);a.style.display="none"===a.style.display?"block":"none"}"use strict";
$(document).ready(function(){initSearchAutocomplete();initSiretSearchAutocomplete();initSearchSelects();initFilterAutocomplete();initSearchProximity();initSearchCriterion();initSearchFacetSubmit();initSearchTagFilter();loadFieldForResultSearch();initDemoOnboarding();initClickAndArrowEventOnSelect();addDisabledAttribute();initPreciseSearchButton();$("#query-result").on("keypress",function(a){13==a.which&&validateTroncatureSearchPreciseQueryResult("")&&(removeDisabledAttribute(),facetteSoumission("/search"),
a.preventDefault())});$("#query").on("keypress",function(a){13==a.which&&(validateTroncatureSearchPrecise("","")||a.preventDefault())});$("#facetteSiret").on("keypress",function(a){13==a.which&&formFacetteSoumission($("#form_acco"))});$("#fonds").on("change",function(a){initPreciseSearchButton()});$("#reload-search-button").on("click touch keypress",function(a){a11yClick(a)&&validateTroncatureSearchPreciseQueryResult("")&&(removeDisabledAttribute(),facetteSoumission("/search"))});$("#cassationTypePublicationBulletin").on("change",
function(){initJurisBulletin()});$("#cassationTypePublicationBulletin").find(".search-reset-cta").on("click",function(){$("#searchJuriAnneeBulletinFieldset").hide();$("#searchJuriAnneeBulletin").val("");$("#searchJuriNumeroBulletinFieldset").hide();$("#searchJuriNumeroBulletin").val("")});$("#searchJuriNumeroBulletin").on("keypress",function(a){a11yClick(a)&&formFacetteSoumission(this)});$("#searchJuriAnneeBulletin").on("keypress",function(a){a11yClick(a)&&formFacetteSoumission(this)});initJurisBulletin();
$(".search-resume input[name\x3d'searchField']").on("click touch keypress",function(a){a11yClick(a)&&(a=$(this).filter(":checked").data("default-rule"),0<a.length&&$("input[name\x3d'searchType'][type\x3d'hidden']").val(a))});var a=!1;$("#form_sommaire_jo .search-filter-criterion fieldset").each(function(){if(!1===a){var b=$(this).attr("id");0<getUrlParameter(b).length&&(a=!0,facetteJorfSoumission(null))}});initLinkSeeAllArticles()});var myFacette=null,myFacetteNotReload=null;
function initSearchAutocomplete(){var a=!1,b="",c="",d={url:function(a){return"/suggest/search?"+$("#searchForm").serialize()},getValue:"displayLabel",requestDelay:500,highlightPhrase:!0,minCharNumber:3,template:{type:"custom",method:function(a,b){return'\x3cspan class\x3d"autocomplete-item '+b.className+'"\x3e\x3cspan class\x3d"icon" aria-hidden\x3d"true"\x3e\x3c/span\x3e'+a+"\x3c/span\x3e"}},list:{maxNumberOfElements:11,onKeyEnterEvent:function(){if(a){var d=$("#query").getSelectedItemData().value;
c=$('#searchForm .form-check-input[name\x3d"tab_selection"]').serialize();d=d.replace("{endpoint}",getEndpoint(c));window.location.replace(d)}else $("#query").val(encodeURIComponent(b)),$("#searchForm").submit()},onClickEvent:function(){var a=$("#query").getSelectedItemData().value;-1!==a.substring("{endpoint}")&&(c=$('#searchForm .form-check-input[name\x3d"tab_selection"]').serialize(),a=a.replace("{endpoint}",getEndpoint(c)));window.location.replace(a)},onSelectItemEvent:function(){a=!0},onHideListEvent:function(){a=
!1}},ajaxSettings:{error:function(a,b,c){errorCallBack(a,b,c,"Erreur de chargement des suggestions")}}};window.matchMedia("screen and (min-width: 75em)").matches&&$("#query").easyAutocomplete(d);$("#query").keyup(function(){b=$("#query").val()});$("#query-result").keyup(function(){b=$("#query-result").val()});mobileToggleAutocomplete(d)}
function initSiretSearchAutocomplete(){var a=!1,b="";$("#facetteSiret").easyAutocomplete({url:function(a){return"/searchAcco/siret?"+$("#facetteSiret").serialize()},minCharNumber:3,getValue:"displayLabel",requestDelay:500,highlightPhrase:!0,template:{type:"custom",method:function(a,b){return"\x3cspan\x3e"+a+"\x3c/span\x3e"}},list:{maxNumberOfElements:10,onKeyEnterEvent:function(){if(a){var c=$("#facetteSiret").getSelectedItemData().value;$("#facetteSiret").val(c)}else $("#facetteSiret").val(encodeURIComponent(b));
formFacetteSoumission($("#form_acco"))},onClickEvent:function(){var a=$("#facetteSiret").getSelectedItemData().value;$("#facetteSiret").val(a);formFacetteSoumission($("#form_acco"))},onSelectItemEvent:function(){$("#facetteSiret").val($("#facetteSiret").getSelectedItemData().value);a=!0},onHideListEvent:function(){a=!1}},ajaxSettings:{error:function(a,b,e){}}});$("#facetteSiret").keyup(function(){b=$("#facetteSiret").val()})}
function errorCallBack(a,b,c,d){null!=a&&0<a.readyState&&($("#search-precise-facet").empty(),$("#search-precise-facet").append("\x3cp style\x3d'color:red;'\x3e\x3cstrong\x3e"+d+"\x3c/strong\x3e\x3c/p\x3e"))}
function initSearchSelects(){$("body").on("collapsible-open",".search-select",function(){var a=$(this),b=a.find(".arrow"),c=a.find(".search-select-content"),d=a.closest(".search-base, .one-rule"),e=a.position().left,f=0-e,e=e+a.innerWidth()/2,g=d.innerWidth();a.is(".type-word")||a.is(".type-and-or")||0==d.length||0<d.closest(".search-resume").length?e=a.innerWidth()/2:c.css({width:g+"px",left:f+"px"});b.css({left:e+"px"})});updateSearchBlock($('#searchForm input[name\x3d"tab_selection"][checked\x3d"checked"]').val(),
"#searchForm");$(".search-select").each(function(){changeSearchSelectLabel($(this))});$("body").on("change","#searchForm .search-select .form-check-input",function(){var a=$(this),b=a.closest(".search-select"),c=a.closest(".filter-autocomplete");c.length&&(myFacetteNotReload=myFacette=c,majFacetHTML(c,!1),myFacette=null);changeSearchSelectLabel(b);"tab_selection"===a.attr("name")&&updateSearchBlock(a.val(),"#searchForm")});$("body").on("change",".search-resume .search-select .form-check-input",function(){var a=
$(this).closest(".search-select");changeSearchSelectLabel(a)})}
function changeSearchSelectLabel(a){var b=[],c="",d="",e="",f=a.find(".search-select-cta");a.find(".form-check-input").each(function(a,c){$(c).is(":checked")&&(a=$(c).next("label.form-check-label").text().trim(),b.push(a),e=$(c).val(),(c=$(c).attr("data-icon"))&&(d=c))});c=0<b.length?b.join(", "):f.attr("data-text");0<a.find(".form-check-input").length&&(f.find(".text").text(c),f.attr("data-simpletooltip-text")!==c?a.find("span.js-simpletooltip[role\x3d'tooltip']").text(f.attr("data-simpletooltip-text")+" : "+
c):a.find("span.js-simpletooltip[role\x3d'tooltip']").text(c),f.attr("data-icon",d),f.val(e))}function getEndpoint(a){return a.split("\x26")[0].split("\x3d")[1].replace("lawarticledecree","lois").replace("cetat%7Cconstit%7Cjuri","constit")}function getUrlParameter(a,b){if(void 0===b||0>=b.length)b=window.location.search;return unescape(b.replace(new RegExp("^(?:.*[\x26\\?]"+escape(a).replace(/[\.\+\*]/g,"\\$\x26")+"(?:\\\x3d([^\x26]*))?)?.*$","i"),"$1"))}
function updateSearchBlock(a,b){var c=getConfigFromBaseSelected(a),d=[],e=$(b).find("#search-precise-facet");null!=c&&($("#searchForm").attr("action",c.url),d=c.targets.split(","),$(b).find("input.radio-target").each(function(){showHideTargetAccordingToBase(this,d,c)}),$(b).find(".search-select").each(function(){changeSearchSelectLabel($(this))}));0<e.length&&updateFacet(a)}
function showHideTargetAccordingToBase(a,b,c){0>$.inArray(a.value,b)?(a.disabled=!0,$(a).parent().hide(),$(a).parent().attr("aria-hidden","true")):(a.disabled=!1,a.value===c.defaultTarget&&(a.checked=!0,$(a).trigger("change")),$(a).parent().show(),$(a).parent().attr("aria-hidden","false"))}
function getConfigFromBaseSelected(a){var b=null;if(void 0===a||0>=a.length)a="all";if("undefined"!==typeof searchConfigs&&0<searchConfigs.length)for(var c=0;c<searchConfigs.length;c++)if(searchConfigs[c].value===a){b=searchConfigs[c];break}return b}
function getResultConfigFromBaseSelected(a){var b=null;if(void 0===a||0>=a.length)a="all";if("undefined"!==typeof resultSearchConfigs&&0<resultSearchConfigs.length)for(var c=0;c<resultSearchConfigs.length;c++)if(resultSearchConfigs[c].value===a){b=resultSearchConfigs[c];break}return b}
function updateFacet(a){a=getConfigFromBaseSelected(a);null!=a&&$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),d=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(d,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:"/searchbase/facets/"+a.base+"/",type:"GET",dataType:"html",success:function(a,c){$("#search-precise-facet").empty();$("#search-precise-facet").append(a);$("#search-precise-facet").find(".date-selector").each(function(a,
b){instanciateDp(a,b)});$("#search-precise-facet").find(".openClose-options").each(function(){$(this).on("click keypress touch",function(a){openCloseLink(a,$(this))})});$(".search-reset-cta").on("click keypress touch",function(a){if(a11yClick(a)){resetInput(this);var b=$(this).closest("form").attr("id"),c=$(this).closest(".search-reset").siblings(".filter-autocomplete");"true"===c.attr("data-facette")?(removeDisabledAttribute(),myFacetteNotReload=myFacette=c,"form_sommaire_jo"===b?facetteJorfSoumission(null):
facetteSoumission(c.attr("data-url")),reinitJsonFacet(c),addDisabledAttribute()):("form_sommaire_jo"===b?facetteJorfSoumission(null):formFacetteSoumission(this),c.hasClass("filter-autocomplete")&&(reinitJsonFacet(c),b=c.closest(".search-select"),changeSearchSelectLabel(b)),a.preventDefault());disCheckedBtnAllOfFacet(c)}});$("#search-precise-facet").find(".filter-autocomplete").each(function(){var a=$(this);instantiateFilterAutocomplete(a)});$(".js-simple-tooltip").each(function(){accessibleSimpleTooltipAria.apply(this)});
$("#search-precise-facet").find(".search-select").each(function(){changeSearchSelectLabel($(this))})},error:function(a,c,d){errorCallBack(a,c,d,"Erreur de chargement des facettes")}})}function reinitJsonFacet(a){for(var b=a.attr("data-autocomplete"),b=JSON.parse(b),c=0;c<b.length;c++)b[c].checked="";a.attr("data-autocomplete",JSON.stringify(b));majFacetHTML(a,!1)}function initFilterAutocomplete(){$(".filter-autocomplete").each(function(){var a=$(this);instantiateFilterAutocomplete(a)})}
function instantiateFilterAutocomplete(a){var b=a.find(".form-control"),c=a.find(".filter-autocomplete-content"),d=a.attr("data-url"),e=[],f=a.attr("data-autocomplete"),e=JSON.parse(f);b.on("keyup",function(){a.attr("data-facette")&&(myFacetteNotReload=myFacette=a);majFacetHTML(a,!1);myFacette=null});a.attr("data-facette")&&(myFacette=a);majFacetHTML(a,!0);myFacette=null;$("body").on("change",".filter-autocomplete .form-check-input",function(){setChangeHandler(this,a,e)});c.on("keypress",'.form-check-label[role\x3d"button"]',
function(a){if(a11yClick(a)){var b=$(this).prev();b.prop("checked",function(){return!b.prop("checked")});b.trigger("change");a.preventDefault()}});c.off("change",".form-check-input.displayNone");c.on("change",".form-check-input.displayNone",function(b){b=$(this);a.attr("data-facette")&&(myFacetteNotReload=myFacette=a);0<$("#form_sommaire_jo").length?(majFacetHTML(a,!1),facetteJorfSoumission(b)):(removeDisabledAttribute(),majFacetHTML(a,!1),facetteSoumission(d));disCheckedBtnAllOfFacet(a);myFacette=
null})}
function addChilds(a,b,c,d,e,f,g,h){var k="",k=k+"\x3cfieldset ";null==c&&(k+="class\x3d'form-check-collapsible-content js-collapsible-content'");k=!0===h?k+" aria-hidden\x3d'false' ":k+" aria-hidden\x3d'true' ";k+="id\x3d'"+e+"'\x3e \x3clegend class\x3d'hidden-element'\x3e"+d+"\x3c/legend\x3e";$.each(a,function(a,d){var e="form-check";"radio"==d.type&&(e="form-radio");a=d.label;null!==c&&(a=a.replace(c,"\x3cmark\x3e$\x26\x3c/mark\x3e"));var n="";null!=d.childs&&0<d.childs.length&&(n="form-check-collapsible js-collapsible");var l=
"",m="";f&&(l="displayNone",0<=d.nb&&(a+=" \x3cem\x3e("+d.nb+")\x3c/em\x3e"),1>d.nb&&"true"!==g||0==d.nb&&"true"===g)&&(m="disabled",e+=" disabled-check",0==d.nb&&(d.checked=""));k+='\x3cdiv class\x3d"'+e+" "+n+'"\x3e';k+='\x3cinput class\x3d"form-check-input '+l+'" id\x3d"'+d.id+'" type\x3d"'+d.type+'" name\x3d"'+b+'" value\x3d"'+d.value+'" '+d.checked+" "+m+"\x3e";k+='\x3clabel class\x3d"form-check-label"';f&&(e=!1,"checked"===d.checked&&(e=!0),k+='role\x3d"button" tabindex\x3d"0" aria-pressed\x3d"'+
e+'" ');k+=' for\x3d"'+d.id+'"\x3e'+a+"\x3c/label\x3e";null!=d.childs&&0<d.childs.length&&(a="fieldset-"+d.id,k+='\x3cbutton type\x3d"button" class\x3d"form-check-collapsible-cta js-collapsible-cta" aria-controls\x3d"'+a+'" aria-expanded\x3d"false"\x3e',k+='\x3cspan class\x3d"icon" aria-hidden\x3d"true"\x3e\x3c/span\x3e',k+='\x3cspan class\x3d"hidden-element"\x3eAfficher/masquer les sous-éléments\x3c/span\x3e',k+="\x3c/button\x3e",k+=addChilds(d.childs,d.value,c,d.label,a,f,g,h));k+="\x3c/div\x3e"});
return k+="\x3c/fieldset\x3e"}function removeDisabledAttribute(){$('.filter-autocomplete[data-facette\x3d"true"]').each(function(){null!=myFacetteNotReload&&myFacetteNotReload.attr("data-name")===$(this).attr("data-name")||$(this).find(".form-check-input:disabled").each(function(){$(this).prop("disabled",!1)})})}function addDisabledAttribute(){$(".disabled-check").each(function(){$(this).find(".form-check-input").prop("disabled","disabled")})}
function majFacetHTML(a,b){var c=[],c=[],d=[],c=[],e=[],f=a.find(".form-control"),g=a.find(".filter-autocomplete-content"),h=a.attr("data-name"),c=a.attr("data-autocomplete"),k=a.attr("data-facette"),m=a.attr("data-liste"),f=f.val(),l=null;f&&(l=new RegExp(createDiacriticsRegExp(f,!1),"i"));c=JSON.parse(c);d=jQuery.grep(c,function(c,d){0<c.childs.length&&"true"===a.find("button[aria-controls\x3d'fieldset-"+c.id+"']").attr("aria-expanded")&&e.push(c.id);if(!k||null!=myFacette&&myFacette.attr("data-name")===
a.attr("data-name")){if(b&&"checked"===c.checked||a.find("#"+c.id).is(":checked"))return b||(c.checked="checked"),0<c.childs.length&&$.grep(c.childs,function(c,d){if(b&&"checked"===c.checked||a.find("#"+c.id).is(":checked"))return b||(c.checked="checked"),!0;b||(c.checked="");return!1}),!0;b||(c.checked="");return 0<c.childs.length&&0<$.grep(c.childs,function(c,d){if(b&&"checked"===c.checked||a.find("#"+c.id).is(":checked"))return b||(c.checked="checked"),!0;b||(c.checked="");return!1}).length?!0:
!1}});c=$.grep(c,function(a,b){return null!=l?null!==a.label.match(l)?!0:0<a.childs.length&&0<$.grep(a.childs,function(a,b){return null!==a.label.match(l)?!0:!1}).length?!0:!1:!0});c=c.filter(function(a){return 0<=$.inArray(a,d)?!1:!0});c=d.concat(c);g.html("");$.each(c,function(a,b){var c="",d=0,f=$.grep(b.childs,function(a,b){if(null!=l)return null!==a.label.match(l)||"checked"===a.checked?("checked"===a.checked&&(c="indeterminateInput",d++),!0):!1;"checked"===a.checked&&(c="indeterminateInput",
d++);return!0});d===b.childs.length&&(c="");var n="form-check";"radio"==b.type&&(n="form-radio");var q=b.label;null!=l&&(q=q.replace(l,"\x3cmark\x3e$\x26\x3c/mark\x3e"));var r="";null!=b.childs&&0<b.childs.length&&null==l&&(r="form-check-collapsible js-collapsible");var p="",t="";k&&(p="displayNone",0<=b.nb&&(q+=" \x3cem\x3e("+b.nb+")\x3c/em\x3e"),1>b.nb&&"true"!==m||0==b.nb&&"true"===m)&&(t="disabled",n+=" disabled-check",0==b.nb&&(b.checked=""));a=$('\x3cdiv class\x3d"search-choice"\x3e\x3c/div\x3e');
n=$("\x3cdiv\x3e\x3c/div\x3e").addClass(n+" "+r);p=$("\x3cinput\x3e").addClass("form-check-input "+c+" "+p);p.attr({id:b.id,type:b.type,name:h,value:b.value});"checked"==b.checked&&p.prop("checked",!0);"disabled"==t&&p.prop("disabled",!0);n.append(p);q=$("\x3clabel\x3e\x3c/label\x3e").addClass("form-check-label").html(q).attr("for",b.id);k&&(q.attr("role","button").attr("tabindex","0"),p=!1,"checked"==b.checked&&(p=!0),q.attr("aria-pressed",p));"disabled"==t&&q.attr("aria-disabled","true");n.append(q);
if(null!=f&&0<b.childs.length){t="fieldset-"+b.id;q=0<=$.inArray(b.id,e);if(null==l){var u=$("\x3cbutton\x3e\x3c/button\x3e").addClass("form-check-collapsible-cta js-collapsible-cta").attr({type:"button","aria-controls":t,"aria-expanded":q}),p=$('\x3cspan class\x3d"icon" aria-hidden\x3d"true"\x3e\x3c/span\x3e');u.append(p);p=$('\x3cspan class\x3d"hidden-element"\x3eAfficher/masquer les sous-éléments\x3c/span\x3e');u.append(p)}n.append(u);b=$(addChilds(f,b.value,l,b.label,t,k,m,q));n.append(b)}a.append(n);
g.append(a)});0===g.children().length&&g.append("\x3cspan\x3e\x3c/span\x3e");setIndeterminateState(a);enableDisableBtnAllOfFacets()}function setIndeterminateState(a){a.find(".form-check-input").each(function(){$(this).hasClass("indeterminateInput")?(this.indeterminate=!0,$(this).next('label[role\x3d"button"]').attr("aria-pressed","mixed")):this.indeterminate=!1})}
function setChangeHandler(a,b,c){var d=!1,e=0;a.indeterminate=!1;$(a).is(":checked")?$(a).siblings("fieldset").find(".form-check-input").each(function(){this.indeterminate=!1;$(this).prop("checked",!0)}):$(a).siblings("fieldset").find(".form-check-input").each(function(){this.indeterminate=!1;$(this).prop("checked",!1)});var f=null;$.each(c,function(b,c){c.id===$(a).closest("fieldset").prevAll(".form-check-input").first().attr("id")&&(f=c)});null!=f&&($(a).closest("fieldset").find(".form-check-input").each(function(){$(this).is(":checked")&&
(e++,d=!0)}),d&&f.childs.length!==e?($(a).closest("fieldset").prevAll(".form-check-input").first().addClass("indeterminateInput"),$(a).closest("fieldset").prevAll(".form-check-input").first().prop("checked",!1)):($(a).closest("fieldset").prevAll(".form-check-input").first().removeClass("indeterminateInput"),f.childs.length===e?$(a).closest("fieldset").prevAll(".form-check-input").first().prop("checked",!0):0===e&&$(a).closest("fieldset").prevAll(".form-check-input").first().prop("checked",!1)),setIndeterminateState(b))}
function initSearchProximity(){$(".search-select.type-word .form-check-input:checked").each(function(){var a=$(this);updateProximity(a)});$("body").on("change",".search-select.type-word .form-check-input",function(){var a=$(this);a.is(":checked")&&updateProximity(a)})}function updateProximity(a){var b=a.closest(".form-radio");a=b.find(".search-proximity");b=b.siblings(".form-radio").find(".search-proximity");a.show();a.attr("aria-hidden","false");b.hide();b.attr("aria-hidden","true")}
function initSearchCriterion(){$(".search-filter-criterion-title .form-check-input:checked").each(function(){var a=$(this);updateSearchCriterion(a)});$("body").on("change",".search-filter-criterion-title .form-check-input",function(){var a=$(this);a.is(":checked")&&updateSearchCriterion(a)})}
function updateSearchCriterion(a){var b=a.closest(".search-filter-criterion");a=b.find(".search-filter-criterion-content");b=b.siblings(".search-filter-criterion").find(".search-filter-criterion-content");a.find("input, button").prop("disabled",!1);a.find(".filter-autocomplete-content").removeAttr("tabindex");b.find("input, button").prop("disabled",!0);a.find(".filter-autocomplete-content").attr("tabindex","-1")}
function loadFieldForResultSearch(){var a=$(".col-left-header").find(".result-search-field");if(a.length){var b=a.data("base"),b=getResultConfigFromBaseSelected(b),c=[];null!=b&&(c=b.targets.split(","),a.find(".form-check-input").each(function(){0>$.inArray(this.value,c)?(this.disabled=!0,$(this).parent().hide(),$(this).parent().attr("aria-hidden","true")):(this.disabled=!1,$(this).parent().show(),$(this).parent().attr("aria-hidden","false"))}))}}var eventclick=0;
function initClickAndArrowEventOnSelect(){$("body").on("keydown",".form-radio .form-check-input[data-autoclose]",function(a){37!==a.which&&38!==a.which&&39!==a.which&&40!==a.which||eventclick++});$("body").on("click",".form-radio .form-check-input[data-autoclose]",function(a){if("true"===$(this).attr("data-autoclose")){eventclick++;var b=$($(this).closest(".js-collapsible"));setTimeout(function(){closeCollapsibleAfterClick(b)},100)}else eventclick=0})}
function closeCollapsibleAfterClick(a){0<eventclick&&2>eventclick&&closeCollapsible(a);eventclick=0}function initSearchFacetSubmit(){$("body").on("click",".search-facet-submit",function(){$(".js-hide-col-in").trigger("click")})}function updateSearchLive(){var a=$(".search-facet-live"),b=$("\x3cp\x3eLa liste de résultats et les filtres ont été mis à jour.\x3c/p\x3e");a.append(b);window.setTimeout(function(){a.empty()},1E3)}
function initSearchTagFilter(){$(".search-filter").each(function(){var a=$(this);updateSearchTagFilter(a)});$("body").on("click change",".search-filter input",function(a){a.stopImmediatePropagation();var b=$(this).closest(".search-filter");window.setTimeout(function(){updateSearchTagFilter(b)},100)});$("body").on("click change",".search-filter option",function(a){a.stopImmediatePropagation();var b=$(this).closest(".search-filter");window.setTimeout(function(){updateSearchTagFilter(b)},100)});$("body").on("click",
".search-filter button",function(a){var b=$(this).closest(".search-filter");window.setTimeout(function(){updateSearchTagFilter(b)},100)})}
function updateSearchTagFilter(a){var b=0,c=a.find(".search-filter-title");a.find("input").each(function(){var a=$(this);0==a.closest(".search-filter-criterion-title").length&&((a.is(".form-control")||a.is(".input-date"))&&""!==a.val()&&0==a.closest(".filter-autocomplete").length?b++:a.is(":checked")?b++:a.is(":selected")&&a.is("option")&&b++)});a.find("select.form-select-multiple \x3e option").each(function(){var a=$(this);0==a.closest(".search-filter-criterion-title").length&&a.is(":selected")&&
a.is("option")&&b++});0<b?(a.addClass("is-active"),a=c.text().trim().replace(/\r?\n|\r/g," ").replace(/\s+/g," "),c.attr("title",a)):(a.removeClass("is-active"),c.removeAttr("title"));enableDisableBtnAllOfFacets()}
function createDiacriticsRegExp(a,b){var c=b?"":"i",d=b?"aàáảãạăằắẳẵặâầấẩẫậäåāą AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ cçćč CÇĆČ dđď DĐĎ eèéẻẽẹêềếểễệëěēę EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ iìíỉĩịîïī IÌÍỈĨỊÎÏĪ lł LŁ nñňń NÑŇŃ oòóỏõọôồốổỗộơởỡớờợöøō OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ rř RŘ sšśșş SŠŚȘŞ tťțţ TŤȚŢ uùúủũụưừứửữựûüůū UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ yýỳỷỹỵÿ YÝỲỶỸỴŸ zžżź ZŽŻŹ".split(" "):"aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ cçćčCÇĆČ dđďDĐĎ eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ iìíỉĩịîïīIÌÍỈĨỊÎÏĪ lłLŁ nñňńNÑŇŃ oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ rřRŘ sšśșşSŠŚȘŞ tťțţTŤȚŢ uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ yýỳỷỹỵÿYÝỲỶỸỴŸ zžżźZŽŻŹ".split(" "),
e=[];a.split("").forEach(function(b){d.every(function(d){if(-1!==d.indexOf(b)){if(-1<e.indexOf(d))return!1;a=a.replace(new RegExp("["+d+"]","gm"+c),"["+d+"]");e.push(d)}return!0})});return a}
function initJurisBulletin(){$("input[name\x3d'cassationTypePublicationBulletin'][value\x3d'T']").is(":checked")?($("#searchJuriAnneeBulletinFieldset").show(),$("#searchJuriNumeroBulletinFieldset").show(),$("#searchJuriAnneeBulletinFieldset").attr("aria-hidden","false"),$("#searchJuriNumeroBulletinFieldset").attr("aria-hidden","false")):($("#searchJuriAnneeBulletinFieldset").hide(),$("#searchJuriAnneeBulletin").val(""),$("#searchJuriNumeroBulletinFieldset").hide(),$("#searchJuriNumeroBulletin").val(""),
$("#searchJuriAnneeBulletinFieldset").attr("aria-hidden","true"),$("#searchJuriNumeroBulletinFieldset").attr("aria-hidden","true"))}function removeUrlParam(a,b){var c=b.split("?")[0],d;b=-1!==b.indexOf("?")?b.split("?")[1]:"";if(""!==b){d=b.split("\x26");for(var e=d.length-1;0<=e;--e)b=d[e].split("\x3d")[0],b===a&&d.splice(e,1);0<d.length&&(c=c+"?"+d.join("\x26"))}return c}
function stripListFromEmptyParam(a){var b="";a=-1!==a.indexOf("?")?a.split("?")[1]:a;if(""!==a&&(a=a.split("\x26"),0<a.length)){for(var c=a.length-1;0<=c;--c)b=a[c].split("\x3d")[1],void 0!==b&&0>=b.length&&a.splice(c,1);b=a.join("\x26")}return b}function initPreciseSearchButton(){var a=0;$("#fonds").find(".form-check-input:checked").each(function(b,c){a++});1===a?$(".search-resume-modify-precise").show():$(".search-resume-modify-precise").hide()}
function initLinkSeeAllArticles(){$(".seeAllArticles a").each(function(){var a=$(this).attr("href"),b=/[?&]etatArticle=([^&#]*)/g,c;if(a){for(;null!==(c=b.exec(window.location.search));)a+="\x26etatArticle\x3d"+encodeURIComponent(c[1]);$(this).attr("href",a)}})}
function mobileToggleAutocomplete(a){var b=null;$(window).resize(function(){null!==b&&clearTimeout(b);b=setTimeout(function(){if(window.matchMedia("screen and (min-width: 75em)").matches)0==$("#query").closest($(".easy-autocomplete")).length&&$("#query").easyAutocomplete(a),0==$("#query-result").closest($(".easy-autocomplete")).length&&$("#query-result").easyAutocomplete(a);else{if($("#query").closest($(".easy-autocomplete")).length){var b=$("#query").clone();$("#query").closest($(".easy-autocomplete")).replaceWith(b)}$("#query-result").closest($(".easy-autocomplete")).length&&
(b=$("#query-result").clone(),$("#query-result").closest($(".easy-autocomplete")).replaceWith(b))}},50)})}
function initDemoOnboarding(a){a=void 0===a?!1:a;var b=window.location.pathname,c=[{url:"^/$",urlJson:"/demoJson/000-accueil.json",cookie:"lf-demo-accueil"},{url:"^/recherche",urlJson:"/demoJson/001-recherche-avancee.json",cookie:"lf-demo-recherche-avancee"},{url:"^/search/all",urlJson:"/demoJson/100-rr-transverse.json",cookie:"lf-demo-rr-transverse"},{url:"^/search/code",urlJson:"/demoJson/101-rr-codes.json",cookie:"lf-demo-rr-codes"},{url:"^/search/lois",urlJson:"/demoJson/102-rr-textes-consolides.json",
cookie:"lf-demo-rr-textes-consolides"},{url:"^/search/jorf",urlJson:"/demoJson/103-rr-jorf.json",cookie:"lf-demo-rr-jorf"},{url:"^/search/constit",urlJson:"/demoJson/104-rr-jurisprudence-constitutionnelle.json",cookie:"lf-demo-rr-jurisprudence-constitutionnelle"},{url:"^/search/cetat",urlJson:"/demoJson/105-rr-jurisprudence-administrative.json",cookie:"lf-demo-rr-jurisprudence-administrative"},{url:"^/search/juri",urlJson:"/demoJson/106-rr-jurisprudence-judiciaire.json",cookie:"lf-demo-rr-jurisprudence-judiciaire"},
{url:"^/search/circ",urlJson:"/demoJson/107-rr-circulaires.json",cookie:"lf-demo-rr-circulaires"},{url:"^/search/kali",urlJson:"/demoJson/108-rr-conventions-collectives.json",cookie:"lf-demo-rr-conventions-collectives"},{url:"^/search/acco",urlJson:"/demoJson/109-rr-accords-entreprises.json",cookie:"lf-demo-rr-accords-entreprises"},{url:"^/codes/texte_lc",urlJson:"/demoJson/200-consult-codes-sommaire.json",cookie:"lf-demo-consult-codes-sommaire"},{url:"^/codes/section_lc",urlJson:"/demoJson/201-consult-codes-section.json",
cookie:"lf-demo-consult-codes-section"},{url:"^/codes/article_lc",urlJson:"/demoJson/202-consult-codes-article.json",cookie:"lf-demo-consult-codes-article"},{url:"^/loda/id",urlJson:"/demoJson/210-consult-textes-consolides-texte.json",cookie:"lf-demo-consult-textes-consolides-texte"},{url:"^/loda/article_lc",urlJson:"/demoJson/211-consult-textes-consolides-article.json",cookie:"lf-demo-consult-textes-consolides-article"},{url:"^/conv_coll/id/KALICONT",urlJson:"/demoJson/220-consult-conventions-collectives-sommaire.json",
cookie:"lf-demo-consult-conventions-collectives-sommaire"},{url:"^/conv_coll/id/KALITEXT",urlJson:"/demoJson/221-consult-conventions-collectives-texte-base.json",cookie:"lf-demo-consult-conventions-collectives-texte-base"},{url:"^/conv_coll/id/KALISCTA",urlJson:"/demoJson/222-consult-conventions-collectives-texte-base-section.json",cookie:"lf-demo-consult-conventions-collectives-texte-base-section"},{url:"^/conv_coll/(article|id/KALIARTI)",urlJson:"/demoJson/223-consult-conventions-collectives-texte-base-article.json",
cookie:"lf-demo-consult-conventions-collectives-texte-base-article",regex:/(?:conv_coll\/id\/)((.[\s\S]*))(?:\?)/g},{url:"^/jorf/jo",urlJson:"/demoJson/230-consult-jorf.json",cookie:"lf-demo-consult-jorf"}];urlMapping=c.find(function(a){return b.match(a.url)});if(void 0!==urlMapping&&"/demoJson/221-consult-conventions-collectives-texte-base.json"===urlMapping.urlJson){var d=document.querySelector("#liste-sommaire-noeud \x3e li.montrer-noeud \x3e a");null===d||"Textes Attachés"!==d.innerHTML.substr(0,
15)&&"Textes Salaires"!==d.innerHTML.substr(0,15)||(urlMapping=c.find(function(a){return"/demoJson/222-consult-conventions-collectives-texte-base-section.json"===a.urlJson}))}void 0!==urlMapping&&($(".start-demo-block").css("display","inline-block"),$(".display-demo-mobile").css("display","block"),(a||displayOnboarding&&""===getCookie(urlMapping.cookie))&&startIntroJs(urlMapping.urlJson,urlMapping.regex),setCookieDemo(urlMapping.cookie,"1"))}
function removeDataAnchor(a){a&&(0===a.lastIndexOf("LEGISCTA",0)?(a=document.querySelector("main [id\x3d'"+a+"']"))&&a.removeAttribute("id"):(a=document.querySelector("main [data-anchor\x3d'"+a+"']"))&&a.removeAttribute("data-anchor"))}
function startIntroJs(a,b){b?(b=b.exec(window.location.href))&&void 0!==b&&0<b.length&&removeDataAnchor(b[1]):window.location.hash&&(b=window.location.hash.replace("#",""))&&removeDataAnchor(b);$.ajax({headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:a,type:"GET",dataType:"json",success:function(a,b){b=introJs();a={steps:a.steps.filter(function(a){return!a.element||$(a.element).length&&$(a.element).is(":visible")}),nextLabel:"Suivant",prevLabel:"Précédent",
doneLabel:"Fermer",skipLabel:"Fermer",highlightClass:"demo-helper-layer",helperElementPadding:30,tooltipPosition:"bottom",scrollTo:"tooltip",scrollPadding:50,overlayOpacity:.4,disableInteraction:!0};a.steps.length&&(b.setOptions(a),b.start())},error:function(a,b,e){console.log("Fichier de démo introuvable ou erroné")}})}function setCookieDemo(a,b){var c=new Date,c="expires\x3d"+(new Date(c.setMonth(c.getMonth()+13))).toUTCString();document.cookie=a+"\x3d"+b+";"+c+";path\x3d/;secure"}
function getCookie(a){a+="\x3d";for(var b=decodeURIComponent(document.cookie).split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""}
function selectAllfilterOfFacet(a){a=getfacetteNameOfBloc(a);var b=$(".chboxALL-content-"+a),c=b.length?!0:!1;if(c&&(b=b.find(".search-filter-criterion-content").find(".filter-autocomplete").find(".filter-autocomplete-content"),c=b.length?!0:!1)){var d=$("#select-filter-all-"+a).prop("checked"),c=b.find(".search-choice").find(".form-check").find(".form-check-input");Array.from(c).forEach(function(a){a.checked=d?"checked":!1});c=b.find(".search-choice").find(".form-check").find(".form-check-label");
Array.from(c).forEach(function(a){a.setAttribute("aria-pressed",d)});var e="/search",f=null;$(".chboxALL-content-"+a).find(".search-filter-criterion-content").find(".filter-autocomplete").each(function(){f=myFacette=$(this);myFacetteNotReload=$(this);removeDisabledAttribute();majFacetHTML($(this),!1);e=$(this).attr("data-url");facetteSoumission(e)});$(".filter-autocomplete").each(function(){myFacette=$(this);removeDisabledAttribute();majFacetHTML($(this),!1)});myFacette=f;removeDisabledAttribute();
facetteSoumission(e);myFacette=null}}
function enableDisableBtnAllOfFacets(){$(".facetteCheckboxALL").each(function(){var a=$(this),b=a.attr("data-name");if($("#select-filter-all-"+b).length){var c=!0,d=0,e=0;a.find(".filter-autocomplete-content").find(".search-choice").find(".form-check").find(".form-check-input").each(function(){e+=1;var a=$(this).is(":disabled");c&&!a&&"cassDecisionAttaquee"!=$(this).prop("name")&&(c=$(this).prop("checked"));if(a||"cassDecisionAttaquee"==$(this).prop("name"))d+=1});0==e?($("#select-filter-all-"+b).prop("checked",
!1),$("#select-filter-all-"+b).prop("disabled",!0)):e==d?($("#select-filter-all-"+b).prop("checked",!1),$("#select-filter-all-"+b).prop("disabled",!0),a.find(".filter-autocomplete").attr("data-autocomplete","[]"),a=a.find(".filter-autocomplete-content"),a.html(""),a.append("\x3cspan\x3e\x3c/span\x3e")):($("#select-filter-all-"+b).prop("checked",c),$("#select-filter-all-"+b).prop("disabled",!1))}});updateDateIconSearch()}
function disCheckedBtnAllOfFacet(a){null!=a&&(a=a.attr("data-name"),a=getfacetteNameOfBloc(a),$("#select-filter-all-"+a).length&&$("#select-filter-all-"+a).prop("checked",!1))}function getfacetteNameOfBloc(a){return"cassDecision"==a||"cassFormation"==a||"cassDecisionAttaquee"==a?"cassPubliBulletin":a}
function updateDateIconSearch(){$(".search-filter").each(function(){var a=$(this),b=a.find(".search-filter-title"),c=a.find(".facetteCheckboxALL");c.length&&(c=c.attr("data-name"),c=$("#select-filter-all-"+c),!c.prop("checked")&&c.prop("disabled")&&(a.removeClass("is-active"),b.removeAttr("title")))})}
function addSearchParameterToLink(a){var b=window.location.href,c=window.location.href,d=$("#"+a).attr("href"),e=d.split(/\?(.+)/),f=e[0],g;!f.includes("#")&&"undefined"!==typeof e[1]&&""!==e[1]&&e[1].includes("#")&&(f=f+"#"+e[1].split("#")[1]);f=f.replace("/#","#");f=f.split("#");g="undefined"!==typeof f[1]?f[1]:"";f=f[0];c.includes("isAbrogated\x3d")&&(c=c.replace("\x26isAbrogated\x3dtrue",""),c=c.replace("isAbrogated\x3dtrue",""));d.includes("highlight\x3d")&&(c=deleteParmeterAndValueInsideHref(c,
"highlight"));var c=deleteParmeterAndValueInsideHref(c,"redirectionFrom"),c=deleteParmeterAndValueInsideHref(c,"anchor"),h="";"undefined"!==typeof e[1]&&""!==e[1]&&e[1].includes("isAbrogated\x3d")&&(h="isAbrogated\x3d"+e[1].replace("\x26","#").replace("/#","#").split("isAbrogated\x3d")[1].split(/\#(.+)/)[0]+"\x26");c=c.split(/\?(.+)/);d.split("highlight\x3d");"undefined"!==typeof c[1]&&""!==c[1]?("/"==f[f.length-1]&&(f=f.substring(0,f.length-1)),c=f+"?"+h+c[1]):c=f+""+(""==h?"":"?"+h.substring(0,
h.length-1));"undefined"!==typeof g&&""!==g&&(c=c.split("#"),c=c[0].includes("?")&&c[0].includes("searchField")?c[0]+"\x26anchor\x3d"+g+"#"+g:c[0].includes("?")?c[0]+"#"+g:c[0]+"/#"+g);c=cleanCaracteres(c);$("#"+a).attr("href",c);history.replaceState({page:1},"",d);history.replaceState({page:1},"",b)}function deleteParmeterAndValueInsideHref(a,b){a.includes(b+"\x3d")&&(a=a.split(b+"\x3d"),b=a[1].split(/\&(.+)/)[1],a=a[0]+("undefined"!=typeof b?b:""));return a}
function cleanCaracteres(a){a=a.replace("/?","?");a=a.replace("?\x26","?");a=a.replace("\x26\x26","\x26");a=a.replace("\x26#","#");return a=a.replace("?#","/#")}function contactUsTreatment(){var a=$(window).height(),b=$(window).width(),c=document.getElementById("resolutionEcran"),d=document.getElementById("previousUrl");c.value=b+" * "+a;d.value=document.referrer}String.prototype.includes=function(a){var b=!1;-1!==this.indexOf(a)&&(b=!0);return b};
$.urlParam=function(a){a=(new RegExp("[?\x26]"+a+"\x3d([^\x26#]*)")).exec(window.location.href);return null==a?null:decodeURI(a[1])||0};"use strict";$(document).ready(function(){initAlert()});function initAlert(){$("body").on("click",".alert-close-cta",function(){$(this).closest(".alert").remove()})}
var openedFacetteChild=[],openedFacetteLink=[],requestWaiting=[],lastRequestLoad=null,firstLoad=!0,isSafari=/constructor/i.test(window.HTMLElement)||function(a){return"[object SafariRemoteNotification]"===a.toString()}(!window.safari||"undefined"!==typeof safari&&safari.pushNotification),idCaptcha,timeoutRefreshCaptcha,isScroll=!1,listSafe="all acco cetat circ cnil code constit lois jorf juri kali docAdmin idcc debatsParlementaires questionsEcritesParlementaires bocc boccTexts jufi".split(" ");
function scrollToAnchor(a){$('[data-anchor\x3d"'+a+'"]').get(0).scrollIntoView({behavior:"smooth"})}function getSafeName(a){var b="";a=jQuery.inArray(a,listSafe);0<=a&&(b=listSafe[a]);return b}
function updateSuggestFacette(a,b,c){var d=!1,e=c?c:"/search";a={data:a.allLabels,requestDelay:500,highlightPhrase:!0,list:{match:{enabled:!0},onKeyEnterEvent:function(){if(d){var a=$("#"+b+"_suggest").getSelectedItemData();$('[id\x3d"'+a+"__"+b+'"]').attr("aria-pressed",!0);facetteSoumission(e);$("#"+b+"_suggest").val("")}},onClickEvent:function(){var a=$("#"+b+"_suggest").getSelectedItemData();$('[id\x3d"'+a+"__"+b+'"]').attr("aria-pressed",!0);facetteSoumission(e);$("#"+b+"_suggest").val("")},
onSelectItemEvent:function(){d=!0},onHideListEvent:function(){d=!1}}};$("#"+b+"_suggest").easyAutocomplete(a)}
function addCheckValueToForm(a){a.find('.checkboxes-container.button-checkboxes span[role\x3d"button"].option-parent ').each(function(){var b=$(this).closest("fieldset");$('[id\x3d"value_'+$(this).attr("id")+'"]').length&&$('[id\x3d"value_'+$(this).attr("id")+'"]').remove();"true"==$(this).attr("aria-pressed")&&$("\x3cinput\x3e").attr({type:"hidden",id:"value_"+$(this).attr("id"),name:b.attr("id").split("__")[0],value:$(this).attr("id").split("__")[0]}).appendTo(a)});a.find('.checkboxes-container.button-checkboxes span[role\x3d"button"].option-enfant').each(function(){var b=
$(this).parent().parent().prev().prev().attr("id").split("__")[0];$('[id\x3d"value_'+$(this).attr("id")+'"]').length&&$('[id\x3d"value_'+$(this).attr("id")+'"]').remove();"true"==$(this).attr("aria-pressed")&&$("\x3cinput\x3e").attr({type:"hidden",id:"value_"+$(this).attr("id"),name:b,value:$(this).attr("id").split("__")[0]}).appendTo(a)})}function formFacetteSoumission(a){$(a).closest("form").hasClass("form-liste")?facetteSoumission("/liste"):facetteSoumission("/search")}
function facetteSoumission(a,b){removeDisabledAttribute();var c=window.location.pathname,d="",e="",f=c.split("/");c.includes("boccTexts")?(d=$.urlParam("id"),e="boccTexts"):f.length&&(e=f[f.length-1].split(";")[0],""===e&&2<=f.length&&(e=f[f.length-2].split(";")[0]));e=sanitizeAlpha(e);c=getSafeName(e);""!==c&&(f=$("#form_"+c),isValidForm(f),$("#page_"+c).val(1),addCheckValueToForm(f),f=f.serialize(),f=stripListFromEmptyParam(f),d=computeDataToSend(e,d,f),launchAjaxRequest(a+"/"+c,a+c.charAt(0).toUpperCase()+
c.slice(1).toLowerCase()+"/ajax",d,c,"facette",!0,b))}function computeDataToSend(a,b,c){(new String(a)).valueOf()==(new String("boccTexts")).valueOf()&&(c+="\x26id\x3d"+b);return c}function sanitizeAlpha(a){return sanitizeString(/[a-zA-Z0-9]*/g,a)}function sanitizeString(a,b){a=b.match(a);return 0<a.length?a[0]!==b?"":a[0]:""}
function ouvrirElement(a){a=$("#"+a).children("div").last();var b=$("#label_"+a.attr("id"));a.attr("data-hidden","false");b.attr("aria-expanded","true");b.removeClass("is-opened")}function videChampDate(a){reinitFacetteChamp(a)}
function reinitFacetteChamp(a){document.getElementById(a).value="";a=window.location.pathname.split("/");var b="";a.length&&(b=a[a.length-1]);b=sanitizeAlpha(b);a=getSafeName(b);if(""!==a){b=$("#form_"+a);addCheckValueToForm(b);var c=b.serialize();console.log("dataToSend:"+c);var d="/search";b.hasClass("form-liste")&&(d="/liste");launchAjaxRequest(d+"/"+a,d+a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"/ajax",c,a,"facette",!0)}}
function clickParDate(a){$("#etatChoice"+a).prop("checked",!1);$("#dateChoice"+a).prop("checked",!0);ouvrirElement("loiTypeRechercheDateVersion");facetteSoumission("/search")}function clickParEtat(a){$("#etatChoice"+a).prop("checked",!0);$("#dateChoice"+a).prop("checked",!1);ouvrirElement("loiTypeRechercheEtatJuridique");facetteSoumission("/search")}function convertMapToArray(a){var b=[];$.each(a,function(a,d){var c={};c.key=a;c.value=d;b.push(c)});return b}
function constructFacette(a,b,c,d){var e=0,f=-1<$.inArray("link_"+c,openedFacetteChild);$("#"+c+"_suggest").length&&updateSuggestFacette(a,c,d?d:"/search");d=convertMapToArray(a.values);!0===a.reverseOrder&&d.reverse();$(d).each(function(){e++;var d="\x3cli class\x3d'"+(10<e&&!f?"option-cachee":"")+"'\x3e",h=this;a.hasSelectedValue?0<h.value.nombre||-1==h.value.nombre?0==h.value.cochee?(d+='\x3cspan id\x3d"'+h.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'false' class\x3d'option-parent' ",d+=" tabindex\x3d'0'\x3e",
d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_empty.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d=-1!=h.value.nombre?d+("\x3ci\x3e "+h.value.label+" ("+h.value.nombre+")\x3c/i\x3e"):d+("\x3ci\x3e "+h.value.label+"\x3c/i\x3e")):(d+='\x3cspan id\x3d"'+h.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'true' class\x3d'option-parent' tabindex\x3d'0'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_check.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",
d=-1!=h.value.nombre?d+("\x3cb\x3e "+h.value.label+" \x3ci\x3e("+h.value.nombre+")\x3c/i\x3e\x3c/b\x3e"):d+("\x3cb\x3e "+h.value.label+"\x3c/b\x3e")):(d+='\x3cspan id\x3d"'+h.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'false' class\x3d'option-parent' ",d+=" tabindex\x3d'-1' disabled\x3d'' \x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_null.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d+="\x3ci\x3e "+h.value.label+" ("+h.value.nombre+")\x3c/i\x3e"):
(d+='\x3cspan id\x3d"'+h.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'false' class\x3d'option-parent' ",0<h.value.nombre||-1==h.value.nombre?(d+=" tabindex\x3d'0'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_empty.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d=-1!=h.value.nombre?d+(" "+h.value.label+" \x3ci\x3e("+h.value.nombre+")\x3c/i\x3e"):d+(" "+h.value.label)):(d+=" tabindex\x3d'-1' disabled\x3d'' \x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_null.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",
d+=" "+h.value.label+" \x3ci\x3e("+h.value.nombre+")\x3c/i\x3e"));var d=d+"\x3c/span\x3e",k=-1<$.inArray("link_"+this.key+"__"+c,openedFacetteChild),m=-1<$.inArray(h.key+"__"+c,openedFacetteLink);if(h.value.enfants){var d=d+("\x3cbutton tabindex\x3d'0' type\x3d'button' aria-describedby\x3d'"+h.key+"__"+c+"' class\x3d'openClose-options expanded"),d=m?d+" opened' aria-expanded\x3d'true'\x3e\x3cspan class\x3d'hidden-element'\x3eDéplier\x3c/span\x3e\x3c/button\x3e":d+"' aria-expanded\x3d'false'\x3e\x3cspan class\x3d'hidden-element'\x3eReplier\x3c/span\x3e\x3c/button\x3e",
d=d+('\x3cul aria-label\x3d"'+h.value.label+'"\x3e'),l=0;$.each(h.value.enfants,function(a,b){if(0<b.nombre){l++;var e=10<l&&!k?"option-cachee":"";m||(e+=" list-option-cachee");d+="\x3cli class\x3d'"+e+"'\x3e";0==b.cochee?(d+='\x3cspan id\x3d"'+a+"__"+h.key+"__"+c+"\" class\x3d'option-enfant' ",d+=" tabindex\x3d'0' aria-pressed\x3d'false' role\x3d'button'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_empty.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d+=
"\x3ci\x3e "+b.label+" ("+b.nombre+")\x3c/i\x3e"):(d+='\x3cspan id\x3d"'+a+"__"+h.key+"__"+c+"\" class\x3d'option-enfant' ",d+=" tabindex\x3d'0' aria-pressed\x3d'true' role\x3d'button'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_check.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d+="\x3cb\x3e "+b.label+" \x3ci\x3e("+b.nombre+")\x3c/i\x3e\x3c/b\x3e");d+="\x3c/span\x3e";d+="\x3c/li\x3e"}});d+="\x3c/ul\x3e";if(10<l){var r=k?"opened":"closed";m||(r+=" list-option-cachee");
d+="\x3ca href\x3d'#' role\x3d'button' class\x3d'see-more-link more-link-child "+r+"' id\x3d'link_"+h.key+"__"+c+"'\x3eAfficher plus de termes\x3c/a\x3e"}}d+="\x3c/li\x3e";$(b).append(d)});10<e?$("#link_"+c).show():$("#link_"+c).hide()}
function launchAjaxRequest(a,b,c,d,e,f,g){var h={id:d,data:c,time:Date.now()};a=encodeURI(a);isRequestAlreadyLaunch(h)||(requestWaiting.push(h),$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"application/json","Content-Type":"application/json"},url:b,type:"GET",data:c,dataType:"json",success:function(b,m){requestWaiting.splice(getIndexRequest(h),1);if(null==lastRequestLoad||
lastRequestLoad.time<h.time)lastRequestLoad=h,history.pushState(null,"",a+"?"+c+"#"+d),b.content?($("#main_"+d).replaceWith(b.content),f&&($.each(b.formData.mapFacets,function(a,b){"check"==b.typeField&&$("#"+a).find(".filter-autocomplete").each(function(){if(null==myFacetteNotReload||myFacetteNotReload.attr("data-name")!==$(this).attr("data-name")||"facetteDepartment"==myFacetteNotReload.attr("data-name")||"facetteIdcc"==myFacetteNotReload.attr("data-name"))$(this).find(".filter-autocomplete-content").empty(),
$(this).attr("data-autocomplete",b.jsonFormat),instantiateFilterAutocomplete($(this))})}),$("#form_"+d).find("input[name\x3d'init']").remove()),$("#nbResults_"+d).text(b.nbResult),$("#default_"+d).val()==b.nbResult?($("#filtre_"+d).hide(),$("#filtre_"+d).attr("aria-hidden","true")):($("#filtre_"+d).show(),$("#filtre_"+d).attr("aria-hidden","false")),addEventListCode()):$("#main_"+d).replaceWith("\x3cp\x3eErreur de chargement\x3c/p\x3e"),"onglet"==e&&($("#label_"+d).off("click"),$("#label_"+d).off("touch"),
$("#label_"+d).on("click touch",function(){history.pushState(null,"",a+"?"+c+"#"+d)}));updateSearchLive();myFacetteNotReload=null;g&&g();managePageTitle();initLinkSeeAllArticles();"lien"!==e&&"facette"!==e||initPagerLinks()},error:function(){requestWaiting.splice(getIndexRequest(h),1)}}))}function changeFilter(a,b){$("#page_"+a).val(1);var c=function(){focusTarget("#"+b)};$("#form_"+a).hasClass("form-liste")?facetteSoumission("/liste",c):facetteSoumission("/search",c)}
function chargeComparaison(a){$("#modaleComparaisonContenu").html('\x3cdiv class\x3d"loader"\x3e\x3c/div\x3e');chargeComparaisonGenerale("rien",$(this).data("article"))}
function chargeComparaisonGenerale(a,b){a=sanitizeAlpha(a).replace(/\.\;/g,"");b=sanitizeAlpha(b).replace(/\.\;/g,"");a={articleGauche:encodeURIComponent(a),articleDroite:encodeURIComponent(b)};$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:"/articleComparaison",type:"GET",data:a,dataType:"html",
success:function(a,b){$("#modaleComparaisonContenu").html(a);trapFocus($("#modaleComparaisonContenu"))},error:function(a,b,e){$("#"+idContent).replaceWith("\x3cdiv id\x3d'"+idContent+"'\x3eErreur de chargement\x3c/div\x3e")}})}
function loadRevision(a){if(a11yClick(a)){var b=a.data.id,c="",d=b.split("-"),e;for(e=0;e<d.length-1;e++)c+=d[e]+"-";c+="content";d={articleCid:encodeURIComponent(sanitizeAlpha(a.data.articleCid)),articleId:encodeURIComponent(sanitizeAlpha(a.data.articleId)),texteCid:encodeURIComponent(sanitizeAlpha(a.data.texteCid)),num:void 0===a.data.num?"":encodeURIComponent(a.data.num),dateConsult:encodeURIComponent(a.data.date),idComplement:encodeURIComponent(a.data.complement),abrogated:encodeURIComponent(a.data.abrogated)};
"CODE"===a.data.fond&&(d.loadAll="true");ajaxRequestReloadContent(c,"/articleRevision",d);$("#"+b).off("click keypress touch",loadRevision)}}function loadLien(a){if(a11yClick(a)){var b=a.data.id,c="",d=b.split("-"),e;for(e=0;e<d.length-1;e++)c+=d[e]+"-";a={articleId:encodeURIComponent(sanitizeAlpha(a.data.articleId)),dateConsult:encodeURIComponent(a.data.date),idButton:encodeURIComponent(b)};ajaxRequestReloadContent(c+"content","/articleLiens",a);$("#"+b).off("click keypress touch",loadLien)}}
function ajaxRequestReloadContent(a,b,c){$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:b,type:"GET",data:c,dataType:"html",success:function(b,c){c=$("#"+a).parent().attr("id");$("#"+a).replaceWith(b);openDefaultSection(c)},error:function(b,c,f){$("#"+a).replaceWith("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}
function activeMoreLink(a,b){if(a11yClick(a)){b.prev().children("li").each(function(a){b.hasClass("closed")?$(this).removeClass("option-cachee"):10<=a&&$(this).addClass("option-cachee")});var c=b.attr("id");b.hasClass("closed")?(b.removeClass("closed"),b.addClass("opened"),b.html("Afficher moins de termes"),openedFacetteChild.push(c)):(b.removeClass("opened"),b.addClass("closed"),b.html("Afficher plus de termes"),openedFacetteChild.splice($.inArray(c,openedFacetteChild),1))}a.preventDefault()}
function openCloseLink(a,b){if(a11yClick(a)){var c=b.prev().attr("id");b.hasClass("opened")?(b.next().children().addClass("list-option-cachee"),b.next().next().addClass("list-option-cachee"),b.removeClass("opened"),b.attr("aria-expanded","false"),openedFacetteLink.splice($.inArray(c,openedFacetteLink),1)):(b.next().children().removeClass("list-option-cachee"),b.next().next().removeClass("list-option-cachee"),b.addClass("opened"),b.attr("aria-expanded","true"),openedFacetteLink.push(c))}a.preventDefault()}
function navigationRevision(a){a11yClick(a)&&navigationDate(a.data.date)}
function navigationDate(a){if(isValidForm($(".wrapper-datepicker"))){var b=window.location.pathname.split("/"),c="",d=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/,e=$("#urlNavigation").val(),f="";0<=e.indexOf("cidSection\x3d")&&(f=getUrlParameter("cidSection",e),e=removeUrlParam("cidSection",e));if(b.length){if(void 0!==e&&"null"!==e&&""!==e)c=e;else if(d.test(b[b.length-2]))for(d=0;d<b.length-2;d++)c+=b[d]+"/";else if(0<=b[b.length-1].indexOf("TEXT")||0<=b[b.length-1].indexOf("SCT"))for(d=0;d<b.length;d++)c+=
b[d]+"/";else for(d=0;d<b.length-1;d++)c+=b[d]+"/";a=a.split("/");c+=a[2]+"-"+a[1]+"-"+a[0]+"/";0<f.length&&(c+="?cidSection\x3d"+f);window.location.href=c}}}
function openDefaultSection(a){$("#"+a).find(".current-version-opened").each(function(){$(this).parents("div.js-to_expand").each(function(){var a=$(this).attr("id");$('*[data-controls\x3d"'+a+'"]').each(function(){$(this).hasClass("is-opened")||$(this).trigger("click")})})});$(".lancerComparaisonBouton").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),article:$(this).data("article"),num:$(this).data("num")},chargeComparaison)})}
$(function(){$(".init-arg-aware").one("click keypress touch",function(a){a11yClick(a)&&$(this).closest("form").append('\x3cinput type\x3d"hidden" name\x3d"init" value\x3d"true" /\x3e')});$("#etatChoice").is(":visible")&&($("#etatChoice").is(":checked")?clickParEtat():clickParDate());$(".see-more-link").each(function(){$(this).on("click keypress touch",function(a){activeMoreLink(a,$(this))})});$(".openClose-options").each(function(){$(this).on("click keypress touch",function(a){openCloseLink(a,$(this))})});
$(".ajax-load-tab-liens").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleId:$(this).data("articleid"),date:$("#dateConsultation").val()},loadLien)});$(".ajax-load-tab-revision").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleCid:$(this).data("articlecid"),articleId:$(this).data("articleid"),texteCid:$(this).data("textecid"),complement:$(this).data("complement"),abrogated:$(this).data("abrogated"),num:$(this).data("num"),date:$("#dateConsultation").val(),
fond:$(this).data("fond")},loadRevision)});bindNavDateChronoLink();$("#label_lois").on("click touch",function(){var a=$("#form_lois");isErrorTemplate(a)||($("#page_lois").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/lois","/searchLois/ajax",a,"lois","onglet",!0))});$("#label_all").on("click touch",function(){var a=$("#form_all");isErrorTemplate(a)||($("#page_all").val(1),a=a.serialize(),launchAjaxRequest("/search/all","/searchAll/ajax",a,"all","onglet",!1))});$("#label_code").on("click touch",
function(){var a=$("#form_code");isErrorTemplate(a)||($("#page_code").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/code","/searchCode/ajax",a,"code","onglet",!0))});$("#label_kali").on("click touch",function(){var a=$("#form_kali");isErrorTemplate(a)||($("#page_kali").val(1),a=a.serialize(),launchAjaxRequest("/search/kali","/searchKali/ajax",a,"kali","onglet",!0))});$("#label_constit").on("click touch",function(){var a=$("#form_constit");isErrorTemplate(a)||($("#page_constit").val(1),
a=a.serialize(),launchAjaxRequest("/search/constit","/searchConstit/ajax",a,"constit","onglet",!1))});$("#label_cetat").on("click touch",function(){var a=$("#form_cetat");isErrorTemplate(a)||($("#page_cetat").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/cetat","/searchCetat/ajax",a,"cetat","onglet",!0))});$("#label_juri").on("click touch",function(){var a=$("#form_juri");isErrorTemplate(a)||($("#page_juri").val(1),a=a.serialize(),launchAjaxRequest("/search/juri","/searchJuri/ajax",
a,"juri","onglet",!1))});$("#label_jorf").on("click touch",function(){var a=$("#form_jorf");isErrorTemplate(a)||($("#page_jorf").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/jorf","/searchJorf/ajax",a,"jorf","onglet",!0))});$("#label_cnil").on("click touch",function(){var a=$("#form_cnil");isErrorTemplate(a)||($("#page_cnil").val(1),a=a.serialize(),launchAjaxRequest("/search/cnil","/searchCnil/ajax",a,"cnil","onglet",!1))});$("#label_jufi").on("click touch",function(){var a=
$("#form_jufi");isErrorTemplate(a)||($("#page_jufi").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/jufi","/searchJufi/ajax",a,"jufi","onglet",!0))});$(window).on("popstate",function(){!1!==firstLoad&&!1!==isSafari||location.reload(!0);firstLoad=!1});$(".search-filter-criterion-submit .input-date, .search-filter-criterion-submit .input-single").on("keypress",function(a){13==a.which&&formFacetteSoumission(this)});$(".search-chrono").on("click keypress touch",function(a){a11yClick(a)&&
navigationDate($("#datepicker").val());9!==a.keyCode&&a.preventDefault()});$(".search-chrono-sticky").on("click keypress touch",function(a){a11yClick(a)&&navigationDate($("#datepicker2").val());9!==a.keyCode&&a.preventDefault()});$(".input-date-chrono").on("keypress",function(a){13==a.which&&navigationDate($("#datepicker").val())});$(".input-date-chrono2").on("keypress",function(a){13==a.which&&navigationDate($("#datepicker2").val())});$(".search-facet .search-filter-criterion-title .form-check-input").on("change",
function(a){$(this).is(":checked")&&formFacetteSoumission(this)});$(".js-tablist__link.tabs__link*[aria-selected\x3dtrue]").each(function(){var a=!1,c=$(this).attr("id");$("*[aria-labelledby\x3d"+c+"]").each(function(){0<$(this).find(".loader").length&&(a=!0)});a&&$(this).trigger("click")});$("#recherche-sommaire").on("click touch keypress",function(a){a11yClick(a)&&(rechercheSommaireCode(),getResultCount())});$("#small-search").on("keypress",function(a){13===a.keyCode&&(rechercheSommaireCode(),getResultCount())});
$("#seeAbrogatedSummary").on("click touch keypress",function(a){""!=$(document).find(".nbResult").text()&&getResultCount()});$("#reset-link-sommaire").on("click touch keypress",function(a){a11yClick(a)&&(reinitSearchSommaire(),$("#small-search").val(""))});$("#recherche-noeud").on("click touch keypress",function(a){a11yClick(a)&&rechercheNoeudCode()});$("#small-search-noeud").on("keypress",function(a){13===a.keyCode&&rechercheNoeudCode()});$("#reset-link-noeud").on("click touch keypress",function(a){a11yClick(a)&&
(reinitSearchNoeud(),$("#small-search-noeud").val(""))});$(".download-link-secure").each(function(){$(this).on("click touch keypress",{id:$(this).data("textid")},captchaLink)});$("#btnAfficheChrono").on("click touch keypress",loadChronolegi);addEventListCode();$(".facette-auto-suggest").length&&updateSuggestFacette(facetteSuggestion,facetteSuggestionGroup);$(".facette-liste-auto-suggest").length&&updateSuggestFacette(facetteSuggestion,facetteSuggestionGroup,"/liste");$("#recherche-dossiers-legislatifs").on("click touch keypress",
function(a){a11yClick(a)&&rechercheListeDossiersLegislatifs()});$("#small-search-dossiers-legislatifs").on("keypress",function(a){13===a.keyCode&&rechercheListeDossiersLegislatifs()});$("#reset-link-dossiers-legislatifs").on("click touch keypress",function(a){a11yClick(a)&&(reinitRechercherListeDossiersLegislatifs(),$("#small-search-dossiers-legislatifs").val(""),$("#liste-dossiers-legislatifs").find(".js-expandmore-button").first().click())});if($("#anchor-to-go").length&&""!==$("#anchor-to-go").val())goToAnchor($("#anchor-to-go").val());
else if(null!=window.location.hash&&""!==window.location.hash){var a=window.location.hash.substr(1);goToAnchor(a)}$(window).scroll(function(){isScroll=!0});$("#numLoiDef").on("keypress",function(a){a11yClick(a)&&formFacetteSoumission(this)});$(".is-opened-desktop").each(function(){if(!isDeviceMobile()){var a=$(this).get(0).id;$("#"+a).attr("data-hidden","false");$("#label_"+a).attr("aria-expanded","true")}});$("button.js-simple-tooltip").on("click touch",function(a){a.preventDefault()})});
function pliDepliSommaireNoeud(a){a=$("#"+a);var b=a.text(),c=a.attr("data-on"),d=a.attr("data-off");b==c?($(".cacher-noeud").hide(),$(".cacher-noeud .articles-code").children(".abrogated").hide(),a.addClass("closed"),a.removeClass("opened"),$(".scroll-sommaire").css("max-height",""),$(".scroll-sommaire").css("overflow-y",""),$(".decalScrollBar").css("margin-left",""),a.text(d)):($("[name\x3d'seeAbrogated']").is(":checked")?($(".cacher-noeud").show(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").show()):
($(".cacher-noeud[data-sa\x3d'false'], .cacher-noeud:not(.abrogated)").show(),$(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").hide()),a.addClass("opened"),a.removeClass("closed"),$(".scroll-sommaire").css("max-height","400px"),$(".scroll-sommaire").css("overflow-y","auto"),$(".decalScrollBar").css("margin-left","15px"),a.text(c));updateSeeAbrogated()}
function pliDepliSommaireNoeudLodaJorf(a){a=$("#"+a);var b=a.text(),c=a.attr("data-on"),d=a.attr("data-off");b==c?($(".cacher-noeud").hide(),$("[name\x3d'seeAbrogated']").is(":checked")&&$("[data-sa\x3d'true']").show(),$(".cacher-noeud .articles-code").children(".abrogated").hide(),a.addClass("closed"),a.removeClass("opened"),$(".scroll-sommaire").css("max-height","150px"),$(".scroll-sommaire").css("overflow-y","auto"),$(".decalScrollBar").css("margin-left","15px"),a.text(d)):($("[name\x3d'seeAbrogated']").is(":checked")?
($(".cacher-noeud").show(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").show()):($(".cacher-noeud[data-sa\x3d'false'], .cacher-noeud:not(.abrogated)").show(),$(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").hide()),a.addClass("opened"),a.removeClass("closed"),$(".scroll-sommaire").css("max-height","400px"),$(".scroll-sommaire").css("overflow-y","auto"),$(".decalScrollBar").css("margin-left",
"15px"),a.text(c));updateSeeAbrogated()}function isSommaireDeplie(){var a=$("#navigationSommaire");return a.text()===a.attr("data-on")}function isRequestAlreadyLaunch(a){return 0>getIndexRequest(a)?!1:!0}function getIndexRequest(a){var b=-1;$.each(requestWaiting,function(c,d){d.id===a.id&&d.data===a.data&&(b=c)});return b}
function rechercheSommaireCode(){var a=removeSpecialCar($("#small-search").val()),b=$("#liste-sommaire");reinitSearchSommaire();null!=a&&""!==$.trim(a)&&($("#searchInAllCode").is(":checked")?redirectSearchCode($("#small-search").val()):$("#searchInAllKali").is(":checked")?redirectSearchKali($("#small-search").val()):b.children("li").each(function(){searchNode($(this),a)}));$("html, body").animate({scrollTop:$("#liste-sommaire").offset().top},800,function(){$("#liste-sommaire").attr("tabindex",-1).focus()})}
function getResultCount(){var a=$("#liste-sommaire").find("mark"),b=[];$("#seeAbrogatedSummary").is(":checked")?showNbHighlight(a.length):(a.each(function(){$(this).parent().hasClass("abrogated")||b.push($(this))}),showNbHighlight(b.length))}function showNbHighlight(a){var b=$(document).find(".nbResult");0==a?b.text("Aucun résultat trouvé"):1==a?b.text("1 résultat trouvé"):b.text(a+" résultats trouvés")}
function searchNode(a,b){var c=!1;a.children(".js-child").each(function(){$(this).children("li").each(function(){c=searchNode($(this),b)||c});$(this).children("ul.js-child").each(function(){$(this).children("li").each(function(){c=searchNode($(this),b)||c})})});var d=a.children("a").first(),c=highLight(d,b)||c,d=a.children("span.section-non-selectionne").first(),c=highLight(d,b)||c;a.children(".js-child").first().children("p.articles-code").first().children("a").each(function(){c=highLight($(this),
b)||c});d=a.children("button").first();c?(a.addClass("opened"),d.addClass("opened"),d.attr("aria-expanded","true")):(a.removeClass("opened"),d.removeClass("opened"),d.attr("aria-expanded","false"));return c}
function searchNodeArticle(a,b){var c=!1;a.children(".js-child").each(function(){$(this).children("li, div").each(function(){c=searchNodeArticle($(this),b)||c});$(this).children("ul.js-child, article.js-child").each(function(){$(this).children("li, div").each(function(){c=searchNodeArticle($(this),b)||c})})});var d=a.children("h3").first(),c=highLight(d,b)||c,d=a.children("div.content").first(),c=highLight(d,b)||c,d=a.children("button").first();c?(a.addClass("opened"),d.addClass("opened"),d.attr("aria-expanded",
"true")):(a.removeClass("opened"),a.addClass("hidden-section"),d.removeClass("opened"),d.attr("aria-expanded","false"));return c}function rechercheListeDossiersLegislatifs(){var a=removeSpecialCar($("#small-search-dossiers-legislatifs").val()),b=$("#liste-dossiers-legislatifs");reinitRechercherListeDossiersLegislatifs();null!=a&&""!==$.trim(a)&&b.children(".expandmore__to_expand").each(function(){searchDossiersLegislatifsNode($(this),a)})}
function searchDossiersLegislatifsNode(a,b){var c=!1;a.find(".dossier-legislatif-item-link a").each(function(){c=highLight($(this),b)||c});c&&(a=a.children(".js-expandmore").children(".js-expandmore-button"),"false"===a.attr("aria-expanded")&&a.click());return c}
function reinitRechercherListeDossiersLegislatifs(){var a=$("#liste-dossiers-legislatifs");a.find("mark").each(function(){$(this).replaceWith($(this).html())});a.find(".js-expandmore-button").each(function(){"true"===$(this).attr("aria-expanded")&&$(this).click()})}
function removeSpecialCar(a){for(var b=[["[àáâãäå]","a"],["ç","c"],["[èéêë]","e"],["[ìíîï]","i"],["ñ","n"],["[òóôõö]","o"],["[ùúûü]","u"],["[ýÿ]","y"]],c=0;c<b.length;++c)a=a.replace(new RegExp(b[c][0],"gi"),function(a){return a.toUpperCase()===a?b[c][1].toUpperCase():b[c][1]});return a}function reinitSearchSommaire(){var a=$("#liste-sommaire");a.find("mark").each(function(){$(this).replaceWith($(this).html())});a.find("li").each(function(){reInitExpanded($(this),!0,!0)})}
function reInitExpanded(a,b,c){var d=!1;a.children(".js-child").each(function(){$(this).children("li").each(function(){d=reInitExpanded($(this),b&&c,c)||d})});b=b||d;var e=a.children("button").first();b?(a.addClass("opened"),e.addClass("opened"),e.attr("aria-expanded","true")):(a.removeClass("opened"),e.removeClass("opened"),e.attr("aria-expanded","false"));"listeSectionCourante"===a.attr("id")&&(b=!0);return b}
function reInitExpandedArticle(a,b){a.children(".js-child").each(function(){$(this).children("li, div").each(function(){b=reInitExpandedArticle($(this),!0)})});var c=a.children("button").first();b?(a.addClass("opened"),c.addClass("opened"),c.attr("aria-expanded","true"),a.removeClass("hidden-section")):(a.removeClass("opened"),c.removeClass("opened"),c.attr("aria-expanded","false"));return b}
function rechercheNoeudCode(){var a=removeSpecialCar($("#small-search-noeud").val()),b=$("#liste-sommaire-noeud"),c=$("#liste-article-noeud");reinitSearchNoeud();null!=a&&""!==$.trim(a)&&($("#searchInAllCode").is(":checked")?redirectSearchCode($("#small-search-noeud").val()):$("#searchInAllKali").is(":checked")?redirectSearchKali($("#small-search-noeud").val()):(b.children("li").each(function(){searchNode($(this),a)}),c.children("li").each(function(){searchNodeArticle($(this),a)}),"Naviguer dans le sommaire du code"===
$("#navigationSommaire").text()&&$("#navigationSommaire").trigger("click")))}
function reinitSearchNoeud(){var a=$("#liste-sommaire-noeud");a.find("mark").each(function(){$(this).replaceWith($(this).html())});a.children("li").each(function(){reInitExpanded($(this),!1,!0)});a=$("#liste-article-noeud");a.find("mark").each(function(){$(this).replaceWith($(this).html())});a.children("li, div").each(function(){reInitExpandedArticle($(this),!0)});"Naviguer dans le sommaire du code"!==$("#navigationSommaire").text()&&$("#navigationSommaire").trigger("click")}
function highLight(a,b){var c=!1,d=!1,e=b.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$\x26"),e=new RegExp(e,"gi"),f=a.html();null!=f&&""!==f?(a.children().each(function(){c=highLight($(this),b)||c;d=!0}),f=a.html()):f=a.text();if(""!==f){var g=removeSpecialCar(f);if(d)for(var h=/(<[^/][^>]*>)[^><]*(<\/[^>]*>)|(<(br|img)[^>]*>)/gi;g.match(h);)for(var k,m=/(<[^/][^>]*>)[^><]*(<\/[^>]*>)|(<(br|img)[^>]*>)/gi;null!==(k=m.exec(g));){var l=k[0].length;k=k.index;for(var r="",n=0;n<l;n++)r+=" ";g=g.substr(0,k)+
r+g.substr(k+l)}h=[];if(g.match(e)){for(c=!0;null!==(m=e.exec(g));)h.push(m.index);e="";for(m=m=g=0;m<h.length;m++)l=f.substr(g,h[m]-g),e+=l,e+="\x3cmark\x3e"+f.substr(h[m],b.length)+"\x3c/mark\x3e",g+=b.length+l.length;e+=f.substr(g,f.length-g);a.html(e)}}return c}
function redirectSearchCode(a){a="/search/code?query\x3d"+encodeURIComponent(a);a+="\x26typeRecherche\x3ddate\x26dateVersion\x3d"+encodeURIComponent($("#datepicker").val());a+="\x26nomCode\x3d"+encodeURIComponent($("#codeTitleInput").val());window.location.href=a+"\x26searchField\x3dALL\x26tab_selection\x3dcode\x26page\x3d1#code"}
function redirectSearchKali(a){a="/search/kali?query\x3d"+encodeURIComponent(a);a+="\x26cidKaliCont\x3d"+encodeURIComponent($("#kaliIdContInput").val());window.location.href=a+"\x26searchField\x3dALL\x26searchProximity\x3d\x26searchType\x3dALL\x26tab_selection\x3dkali\x26page\x3d1#kali"}function changementComparaison(){var a=document.getElementById("selectGauche").value,b=document.getElementById("selectDroite").value;chargeComparaisonGenerale(a,b)}
function loadChronolegi(a){if(a11yClick(a)){a="cidText\x3d"+$("#btnAfficheChrono").data("chronoid");a+="\x26libText\x3d"+$("#btnAfficheChrono").data("libtext");a+="\x26dateConsult\x3d"+$("#btnAfficheChrono").data("dateconsult");a+="\x26type\x3d"+$("#btnAfficheChrono").data("type");var b=$("#btnAfficheChrono").data("navigation");a=b?a+("\x26navigation\x3d"+b):a+"\x26navigation\x3dfalse";b=$("#btnAfficheChrono").data("chronocidsection");null!=b&&""!==b&&"undefined"!==b&&(a=a+("\x26cidSection\x3d"+b)+
("\x26libSection\x3d"+$("#btnAfficheChrono").data("libsection")));b=$("#btnAfficheChrono").data("chronoidsection");null!=b&&""!==b&&"undefined"!==b&&(a+="\x26idSection\x3d"+b);(b=$("#btnAfficheChrono").data("dateconsult"))&&(a=a+("\x26startYear\x3d"+b)+("\x26endYear\x3d"+b));$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},
url:"/chronolegi",type:"GET",data:a,dataType:"html",success:function(a,b){0<=a.indexOf("modal-content")?($(".modal-dialog.chronolegi.timeline-modal").html(a),bindChronoDetailButtonOfParent($(".modal-dialog.chronolegi.timeline-modal")),bindNavDateChronoLinkOfParent($(".modal-dialog.chronolegi.timeline-modal")),openDefaultSection("modal-timeline"),trapFocus($(".modal-dialog.chronolegi.timeline-modal")),$("#btnAfficheChrono").off("click keypress touch",loadChronolegi),$(".accordion-timeline-item:not(.version-init)").on("click touch keypress",
function(){"false"===$(this).attr("data-is-detail-loaded")&&updateChronoLegiYearDetails($(this))})):$(".modal-dialog.chronolegi.timeline-modal").find(".modal-body").html(a)},error:function(a,b,e){$(".modal-dialog.chronolegi.timeline-modal").find(".modal-body").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}}function bindNavDateChronoLink(){$(".version-navigation").each(function(){$(this).on("click keypress touch",{date:$(this).data("date")},navigationRevision)})}
function bindNavDateChronoLinkOfParent(a){$(a).find(".version-navigation").each(function(){$(this).on("click keypress touch",{date:$(this).data("date")},navigationRevision)})}function bindChronoDetailButtonOfParent(a){$(a).find(".detail-timeline button").click(function(a){a.preventDefault();a=$(this).parents(".detail-timeline").siblings(".content-detail-timeline").find(".content-tip-timeline");toggleTip($(this),a)})}
function bindSubmissionCaptchaEvent(){$(".legifrance-captcha-form").submit(function(a){a=$(this).find('input[name\x3d"captcha"]').first().val();verifyCaptcha(a);return!1})}function verifyCaptcha(a){isScroll=!1;secureLinkValidation(idCaptcha,a)}function errorCaptcha(){secureLinkValidation(idCaptcha,"invalid")}
function captchaLink(a){if(a11yClick(a)){a=a.data.id;var b=$("#secure-download-"+a);$(".secure-download").not(b).fadeOut(0,function(){$(this).addClass("hidden-div");$(this).html("")});$("#secure-download-"+a).hasClass("hidden-div")?secureLinkValidation(a):b.fadeOut("slow",function(){b.addClass("hidden-div");b.html("")})}}
function secureLinkValidation(a,b,c){var d=$("#secure-download-"+a),e={id:encodeURIComponent(a)};null!=b&&(e.captcha=encodeURIComponent(b));$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:"/download/url",type:"GET",cache:!1,data:e,dataType:"html",success:function(b,e){d.replaceWith(b);
bindSubmissionCaptchaEvent();idCaptcha=a;clearTimeout(timeoutRefreshCaptcha);timeoutRefreshCaptcha=setTimeout(function(){secureLinkValidation(a,null,null)},305E3);d=$("#secure-download-"+a);d.hasClass("hidden-div")&&d.fadeIn("slow",function(){d.removeClass("hidden-div")});(null==c||!c)&&0<$("#jo-"+a).length&&$("html, body").animate({scrollTop:$("#jo-"+a).offset().top},0)},error:function(a,b,c){}})}
function addEventListCode(){if($("#quick-search-input").length){var a=!1,b={data:listeCodeName,requestDelay:500,highlightPhrase:!0,list:{match:{enabled:!0,method:function(a,b){a=removeSpecialCar(a);b=removeSpecialCar(b);return-1<a.search(b)}},onKeyEnterEvent:function(){if(a){var b=$("#quick-search-input").serialize();launchAjaxRequest("/liste/code","/listeCode/ajax",b,"code","facette",!0)}},onClickEvent:function(){var a=$("#quick-search-input").serialize();launchAjaxRequest("/liste/code","/listeCode/ajax",
a,"code","facette",!0)},onSelectItemEvent:function(){a=!0},onHideListEvent:function(){a=!1}}};$("#quick-search-input").easyAutocomplete(b)}$("#quick-search-input").on("keypress",function(a){13===a.keyCode&&(searchInCodeList(this),a.preventDefault())});$("#quick-search-submit").on("click",function(a){searchInCodeList($("#quick-search-input"))})}function searchInCodeList(a){a=$(a).serialize();launchAjaxRequest("/liste/code","/listeCode/ajax",a,"code","facette",!0)}
function changePageSize(a){var b=decodeURIComponent(encodeURIComponent(window.location.toString()));a=$("#"+a).val();if(-1<b.indexOf("?")){for(var c=b.split("?")[1].split("\x26"),d=/page=(\d+)/g,e=/pageSize=(\d+)/g,f="",g=0;g<c.length;g++)c[g].match(d)||c[g].match(e)||(f+=c[g]+"\x26");window.location.href=b.split("?")[0]+"?"+f+"page\x3d1\x26pageSize\x3d"+a}else window.location.href=b+"?page\x3d1\x26pageSize\x3d"+a}
function showHideAbrogated(a,b){Cookies.set("seeAbrogated-"+b,a,{secure:!0});b=$("[data-a\x3d'true']");var c=$(".code-consommation-list button.expanded").attr("aria-expanded");!0===a?(b.show(),b.attr("aria-hidden","true"),b.each(function(){var a=$(this).closest("ul");1==c&&a.show();a.attr("aria-hidden","true")}),isSommaireDeplie()&&($("[data-sa\x3d'true'], .abrogated").show(),$("[data-sa\x3d'true'], .abrogated").attr("aria-hidden","true"))):(b.hide(),b.attr("aria-hidden","false"),b.each(function(){var a=
$(this).closest("ul");0>=a.find("[data-a\x3d'true']").length&&(a.hide(),a.attr("aria-hidden","false"))}),isSommaireDeplie()&&($(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").hide()));updateSeeAbrogated()}
function showHideAbrogatedLodaJorf(a,b){Cookies.set("seeAbrogated-"+b,a,{secure:!0});b=$("[data-a\x3d'true']");!0===a?(b.show(),b.attr("aria-hidden","false"),b.each(function(){var a=$(this).closest("ul");a.show();a.attr("aria-hidden","false")}),isSommaireDeplie()?($("[data-sa\x3d'true'], .abrogated").show(),$("[data-sa\x3d'true'], .abrogated").attr("aria-hidden","false")):$("[data-sa\x3d'true']").show()):(b.hide(),b.attr("aria-hidden","true"),b.each(function(){var a=$(this).closest("ul");0>=a.find("[data-a\x3d'false']").length&&
(a.hide(),a.attr("aria-hidden","true"))}),isSommaireDeplie()?($(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").hide()):$("[data-sa\x3d'true']").hide());updateSeeAbrogated()}
function updateSeeAbrogated(){if(0!==$("[name\x3d'seeAbrogated']").length){var a=$("[name\x3d'seeAbrogated']").parent(".see-abrogated");0<$("[data-a\x3d'true']").length||0<$("[data-sa\x3d'true']").length?(a.show(),a.attr("aria-hidden","false")):(a.hide(),a.attr("aria-hidden","true"))}}function deleteAdvancedFilter(a,b){a=document.getElementById(a);a.parentNode.removeChild(a);$("#"+b+":not(:has(li))").remove();$(".advanced-filter:not(:has(li))").remove();facetteSoumission("/search")}
function goToAnchor(a){a=$("[data-anchor\x3d'"+a+"']").not(":hidden");if(0<a.length){var b=a.first();setTimeout(function(){$("html, body").animate({scrollTop:b.offset().top},0,function(){focusTarget(b)})},500)}}function isErrorTemplate(a){return 0!==a.find("header").length}
function updatePasswordInfo(a){var b=$("#passwordInfo");if(""===a)b.text("");else{a=zxcvbn(a).score;var c='\x3cspan class\x3d"';0===a&&(c+='password-insuffisant"\x3einsuffisant\x3c/span\x3e');1===a&&(c+='password-faible"\x3efaible\x3c/span\x3e');2===a&&(c+='password-correct"\x3ecorrect\x3c/span\x3e');3===a&&(c+='password-bon"\x3ebon\x3c/span\x3e');4===a&&(c+='password-excellent"\x3eexcellent\x3c/span\x3e');b.html("Mot de passe "+c)}}
function submitActivation(a){cleanError();var b=$("form").find("button[type\x3dsubmit]");b.prop({disabled:a});b.attr("aria-disabled",a)}function cleanError(){$(".alert-danger").remove()}
function updateChronoLegiYearDetails(a){var b=a.attr("data-year"),c=a.attr("data-is-detail-loaded"),d=$("#btnAfficheChrono").data("navigation");d||(d="false");var e=$("#btnAfficheChrono").data("chronoid"),f=$("#btnAfficheChrono").data("libtext"),b={cidText:e,year:b,navigation:d,libText:f};"false"==c&&$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml",
"Content-Type":"text/html, application/xhtml+xml"},url:"/chronolegi/getYear",type:"GET",data:b,dataType:"html",success:function(b,c){0<=b.indexOf('class\x3d"isDetailLoaded"')?(a.find("[id^\x3dexpand_]").html(b),bindChronoDetailButtonOfParent(a),bindNavDateChronoLinkOfParent(a),a.attr("data-is-detail-loaded","true")):a.find("[id^\x3dexpand_]").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")},error:function(b,c,d){a.find("[id^\x3dexpand_]").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}
function toogleDlListe(a,b){a=$(a);var c,d;"true"==a.attr("aria-expanded")?(d="Afficher les dossiers législatifs plus anciens",a.text("[+]"),c=$("\x3cspan\x3e\x3c/span\x3e").text(d),c.addClass("displayNone"),a.attr("title",d),a.append(c),a.attr("aria-expanded",!1)):(d="Cacher les dossiers législatifs plus anciens",a.text("[-]"),c=$("\x3cspan\x3e\x3c/span\x3e").text(d),c.addClass("displayNone"),a.attr("title",d),a.append(c),a.attr("aria-expanded",!0));a.closest(".links-categories").children().not(":first").toggleClass("displayNone");
b.preventDefault()}function trapFocus(a){a=a.find("button, a, select").filter(":visible");var b=a.first(),c=a.last();b.focus();c.on("keydown",function(a){9!==a.which||a.shiftKey||(a.preventDefault(),b.focus())});b.on("keydown",function(a){9===a.which&&a.shiftKey&&(a.preventDefault(),c.focus())})}
function checkAnchor(a,b){a=$(a).attr("href");var c=window.location.href;if(a===window.location.pathname+window.location.search+window.location.hash||a===c)a=window.location.hash.substr(1),goToAnchor(a),b.preventDefault()}
function managePageTitle(){var a=window.location.pathname.split("/");a.length&&(a=a[1],""==a?$(document).attr("title","Légifrance - Le service public de la diffusion du droit"):"recherche"==a?$(document).attr("title","Recherche avancée - Légifrance"):"search"==a&&(a=$("main [name\x3dpage]").val())&&/^\d+$/.test(a)&&$(document).attr("title","Résultats de recherche, page "+a+" - Légifrance"))}$(document).ready(function(){bindSubmissionCaptchaEvent()});
function buildSummary(a){var b=$("#navigationSommaire").attr("isSummaryLoaded"),c=a.summaryFund,d=getTargetUrl(c);isSommaireDeplie()||"0"!=b?"1"==b&&handleSummaryBehaviour("navigationSommaire",c):(getOverlaySummaryOn(),$.ajax({type:"GET",contentType:"application/json; charset\x3dUTF-8",url:d,data:a,success:function(a){null!=a.content&&($("#conteneurSommaire").replaceWith(a.content),handleSummaryBehaviour("navigationSommaire",c),showHideElementForSummaryOnDemand(),0<$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").length&&
(a=$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id"),$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked")||$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").prop("checked","true"===Cookies.get("seeAbrogated-"+a)),showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a)),$("#navigationSommaire").attr("isSummaryLoaded","1"));getOverlaySummaryOff()},error:function(a){console.log("Erreur survenue : "+a);getOverlaySummaryOff()}}))}
function getTargetUrl(a){if("SECTION_CODE"===a||"LODA_TEXT"===a||"ARTICLE_PAGE_CODE"===a||"ARTICLE_PAGE_LODA"===a)return"/sommaire/textdto";if("JORF_TEXT"===a||"ARTICLE_PAGE_JORF"===a)return"/sommaire/jorfTextdto";if("KALI_TEXT"===a||"ARTICLE_PAGE_KALI"===a)return"/sommaire/kaliTextdto"}
function handleSummaryBehaviour(a,b){"SECTION_CODE"===b||"KALI_TEXT"===b||"ARTICLE_PAGE_CODE"===b||"ARTICLE_PAGE_KALI"===b?pliDepliSommaireNoeud(a):"LODA_TEXT"!==b&&"JORF_TEXT"!==b&&"ARTICLE_PAGE_JORF"!==b&&"ARTICLE_PAGE_LODA"!==b||pliDepliSommaireNoeudLodaJorf(a)}
function showHideElementForSummaryOnDemand(){$(".decalScrollBar").find("button.expanded").click(function(a){a.preventDefault();var b=$(this);a=b.find("span");var c=b.parent(),d=c.find("\x3e .js-child"),e=b.parents(".decalScrollBar").attr("data-on"),b=b.parents(".decalScrollBar").attr("data-off");d.is(":visible")||0==d.is(":visible")&&0===d.length&&c.hasClass("opened")?($(this).removeClass("opened").attr("aria-expanded","false"),c.removeClass("opened"),a.text(b)):($(this).addClass("opened").attr("aria-expanded",
"true"),c.addClass("opened"),a.text(e))})}
function getOverlaySummaryOn(){var a=$(".summary-recall").innerWidth(),b=$(".summary-recall").innerHeight(),c=$(".summary-recall").position().top,d=$(".summary-recall").position().left;$("#overlaySummary").fadeIn("slow");$("#overlaySummary").css("width",a);$("#overlaySummary").css("height",b);$("#overlaySummary").css("top",c);$("#overlaySummary").css("left",d);$("#overlaySummary #spin").css("position","absolute");$("#overlaySummary #spin").css("top",b/2)}
function getOverlaySummaryOff(){$("#overlaySummary").fadeOut("slow")}
function dealWithCheckValue(a){var b=[];a.each(function(){var a=getSelectedItems($(this)),a={id:$(this).attr("id"),liste:a};b.push(a)});showOrHideElements(b);hideEmptyTitles();a.each(function(){var a=$(this).attr("id"),d=[],e=[];$(b).each(function(){this.id!=a&&e.push(this.liste)});if(e.length)for(var f=e[0],g=0;g<f.length;g++){for(var h=!0,k=1;k<e.length;k++)0>$.inArray(f[g],e[k])&&(h=!1);h&&d.push(f[g])}$(this).find(".search-filter-criterion-content .filter-autocomplete").each(function(){var b=jQuery.parseJSON($(this).attr("data-autocomplete"));
if(null==myFacetteNotReload||myFacetteNotReload.attr("data-name")!==$(this).attr("data-name")){var c=$(this).find(".filter-autocomplete-content .search-choice .form-check .form-check-input"),e=[];$(d).each(function(){this.length&&e.push($("#"+this)[0])});c.each(function(){var c=0,d=$(this).attr("value");$(e).each(function(){"Inconnu"!=d&&null!=this.attributes&&null!=this.attributes.getNamedItem("data-"+a)&&this.attributes.getNamedItem("data-"+a).value===d?c++:"Inconnu"===d&&null!=this.attributes&&
null==this.attributes.getNamedItem("data-"+a)&&c++});var f=$(this),g=jQuery.grep(b,function(a){return a.id===f.attr("id")})[0];g.nb=c;g.checked=f.is(":checked")?"checked":""});$(this).find(".filter-autocomplete-content").empty();$(this).attr("data-autocomplete",JSON.stringify(b));instantiateFilterAutocomplete($(this))}})})}
function getSelectedItems(a){var b=a.find(".search-filter-criterion-content .filter-autocomplete .filter-autocomplete-content .search-choice .form-check input.form-check-input:checked"),c=[],d=a.attr("id");b.length?b.each(function(){var a=$(this).attr("value");("Inconnu"!=a?$("div[data-noeud-jorf] li[data-"+d+'\x3d"'+a+'"]'):$("div[data-noeud-jorf] li:not([data-"+d+"])")).each(function(){c.push($(this).attr("id"))})}):$("div[data-noeud-jorf] li").each(function(){c.push($(this).attr("id"))});return c}
function hideEmptyTitles(){$("div[data-noeud-jorf]").each(function(){$(this).find("li[aria-hidden\x3d'false']").length?($(this).show(),$(this).attr("aria-hidden","false")):($(this).hide(),$(this).attr("aria-hidden","true"))})}
function showOrHideElements(a){var b=[],c=[];$(a).each(function(){c.push(this.liste)});if(c.length){a=c[0];for(var d=0;d<a.length;d++){for(var e=!0,f=1;f<c.length;f++)0>$.inArray(a[d],c[f])&&(e=!1);e&&b.push(a[d])}}$("div[data-noeud-jorf] li").each(function(){0<=$.inArray($(this).attr("id"),b)?($(this).show(),$(this).attr("aria-hidden","false")):($(this).hide(),$(this).attr("aria-hidden","true"))})}
function facetteJorfSoumission(a){var b=$("#form_sommaire_jo"),c=b.find(".search-filter .search-filter-content .search-filter-criterion fieldset:has(.search-filter-criterion-content .filter-autocomplete)");null!=a&&a.attr("disabled")&&"disabled"==a.attr("disabled")||dealWithCheckValue(c);updateHistoryUrlWithSearch(b);updateSearchLive();myFacetteNotReload=null}
function updateHistoryUrlWithSearch(a){addCheckValueToForm(a);a=a.find("input[type\x3d'hidden'], .search-filter .search-filter-content .search-filter-criterion .search-filter-criterion-content .filter-autocomplete .filter-autocomplete-content .search-choice .form-check input.form-check-input:checked").serialize();history.pushState(null,"",window.location.pathname+"?"+a)}var charList="/\\\x26;\x3c\x3e".split("");
function deleteBlock(a){if("group-initial"!==a&&"undefined"!==typeof a&&"block-rule-0-1"!==a){var b;b=0<=a.indexOf("group")?$("#"+a).parent().closest("fieldset"):$("#"+a).closest("fieldset");$("#"+a).remove();1>b.children(".item-advanced-search").children(".group-rules").length&&1>b.children(".item-advanced-search").children(".one-rule").length&&deleteBlock(b.attr("id"))}updateSwitch()}function deleteRule(a){deleteBlock(a)}
function createRule(a,b,c,d){b="idLevel\x3d"+b+"\x26numRegle\x3d"+c;2>d&&(b+="\x26firstChild\x3dtrue");ajaxConstruct("/search/createRule",b,a)}function createBlock(a,b,c){b="idLevel\x3d"+b;2>c&&(b+="\x26firstChild\x3dtrue");ajaxConstruct("/search/createBlock",b,a)}
function ajaxConstruct(a,b,c){$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:a,type:"GET",data:b,dataType:"html",success:function(a,b){$("#group-"+c).children("fieldset").children(".item-advanced-search").append(a);a=$("#group-"+c).children("fieldset").children(".item-advanced-search").children().last();
addEvent(a);updateSwitch();updateActions();focusTarget(a)},error:function(a,b,c){}})}
function updateActions(){$(".advanced-search-form .addRule").each(function(a,b){5<=$("#"+$(this).data("cible")).children("fieldset").children(".item-advanced-search").children(".one-rule,.group-rules").length?($(this).parent(".search-action-item").hide(),$(this).parent(".search-action-item").attr("aria-hidden","true")):($(this).parent(".search-action-item").show(),$(this).parent(".search-action-item").attr("aria-hidden","false"))});$(".advanced-search-form .addGroup").each(function(a,b){b=$("#"+$(this).data("cible"));
a=b.children("fieldset").children(".item-advanced-search").children(".one-rule,.group-rules").length;b=b.attr("id").split("group-")[1];5<=a||"initial"!==b&&!b.match(/^block-[0-9]$/gm)&&!b.match(/^block-[0-9]-[0-9]$/gm)?($(this).parent(".search-action-item").hide(),$(this).parent(".search-action-item").attr("aria-hidden","true")):($(this).parent(".search-action-item").show(),$(this).parent(".search-action-item").attr("aria-hidden","false"))})}
function addEvent(a){a.find(".addRule").on("click",function(a){a=$("#"+$(this).data("cible"));var b=a.children("fieldset").children(".item-advanced-search").children(".one-rule").length+a.children("fieldset").children(".item-advanced-search").children(".group-rules").length,d=a.children("fieldset").children(".item-advanced-search").children(".one-rule").length+1;if(6>d){var e="0",f=a.attr("id").split("group-")[1];"group-initial"!==a.attr("id")&&(e=f);createRule(f,e,d,b)}});a.find(".addGroup").on("click",
function(a){a=$("#"+$(this).data("cible"));var b=a.children("fieldset").children(".item-advanced-search").children(".one-rule").length+a.children("fieldset").children(".item-advanced-search").children(".group-rules").length,d=a.children("fieldset").children(".item-advanced-search").children(".group-rules").length+1,e="1",f=a.attr("id").split("group-")[1];6>d&&("initial"===f||f.match(/^block-[0-9]$/gm)||f.match(/^block-[0-9]-[0-9]$/gm))&&("group-initial"!==a.attr("id")&&(e=f),createBlock(f,e+("-"+
d),b))});a.find(".removeGroup").on("click keypress touch",function(a){a11yClick(a)&&(deleteBlock($(this).data("cible")),updateActions())});a.find(".removeRule").on("click keypress touch",function(a){a11yClick(a)&&(deleteRule($(this).data("cible")),updateActions())});a.find(".search-select-content").each(function(){checkTargets(this)});a.find(".text-input").on("keydown",function(a){13==a.keyCode&&($(".block-input-errors").length?a.preventDefault():generateQuery())})}
function updateSwitch(){$(".item-advanced-search").each(function(){var a=$(this),b=a.find(".type-and-or button");1>=a.children(".one-rule, .group-rules").length?(a.addClass("single"),b.prop("disabled",!0)):(a.removeClass("single"),b.removeAttr("disabled"))})}
function reinitSearch(){$("#group-block-0-radio-and").click();$("#group-initial").children("fieldset").children(".item-advanced-search").children(".group-rules").each(function(){deleteBlock($(this).attr("id"))});$("#group-initial").children("fieldset").children(".item-advanced-search").children(".one-rule").each(function(){deleteRule($(this).attr("id"))});$("#input-search-0-1").val("");$("#select-filter-content-all").click();$("#select-target-group-0-1-input-ALL").click();$("#select-filter-word-0-1-ALL").click();
reinitPreciseFacet();initSearchTagFilter();updateActions()}
function generateQuery(){var a=generateQueryGroup($("#group-initial")),b=window.location.search,c,d="";c=$("input[name\x3d'tab_selection']:checked").val();"lawarticledecree"===c&&(c="lois");0>=a.length&&(a='{(@ALL[t"*"])}');if(isValidForm($("#form_facette_"+c))){var e="/search/"+c,f=$("#form_facette_"+c).find("select, textarea, input").serialize(),f=f+("\x26"+$("#form_preference_affichage_"+c).find("select, textarea, input").serialize()),f=stripListFromEmptyParam(f),f=0>f.indexOf("etatTexte\x3d\x26")&&
!1===strEndWith(f,"etatTexte\x3d")&&0<=f.indexOf("etatTexte\x3d")||0>f.indexOf("etatArticle\x3d\x26")&&!1===strEndWith(f,"etatArticle\x3d")&&0<=f.indexOf("etatArticle\x3d")?0<f.length?f+"\x26typeRecherche\x3detat":f+"typeRecherche\x3detat":0<f.length?f+"\x26typeRecherche\x3ddate\x26init\x3dtrue":"typeRecherche\x3ddate\x26init\x3dtrue",f=f+"\x26page\x3d1";1<b.split("origine\x3d").length&&(d=b.split("origine\x3d")[1].split("\x26")[0]);1<b.split("searchField\x3d").length&&(d=b.split("searchField\x3d")[1].split("\x26")[0]);
if(""!==b&&$("#select-tab").val()===d){for(var b=b.substring(1),b=b.split("\x26"),d="",g=0;g<b.length;g++){var h=!1,k=b[g].split("\x3d")[0];if("query"===k)d+="query\x3d"+encodeURIComponent(a),h=!0;else if("tab_selection"===k)"lois"===c&&(c="lawarticledecree"),d+="tab_selection\x3d"+c,h=!0;else if(0<k.length){var m=$("select[name\x3d"+k+"],input[name\x3d"+k+"]");0>f.indexOf(k)&&0>=m.length&&(d+=b[g],h=!0)}g<b.length-1&&!0===h&&(d+="\x26")}c=d;0>=c.indexOf("query\x3d")&&(c+="\x26query\x3d"+encodeURIComponent(a))}else"lois"===
c&&(c="lawarticledecree"),c="tab_selection\x3d"+c+("\x26query\x3d"+encodeURIComponent(a));0<f.length?(!1===strEndWith(c,"\x26")&&(c+="\x26"),window.location.href=e+"?"+c+f):window.location.href=e+"?"+c}}function strEndWith(a,b){return a.lastIndexOf(b)===a.length-b.length}
function generateEntryUrl(){var a=window.location.search,b=window.location.pathname.split("/"),c="";0>a.indexOf("isAdvancedResult\x3dtrue")&&(a=adaptForAdvancedSearch(a));b.length&&(c=b[b.length-1].split(";")[0]);""!==a?0>a.indexOf("origine\x3d")&&(a+="\x26origine\x3d"+c):a="?origine\x3d"+c;window.location.href="/recherche"+a}
function generateQueryRule(a){var b="";a=a.attr("id").split("block-rule-")[1];var c=$("#input-search-"+a).val().replace(/[\(\)]/g,"");if(""!==c){var d=$("#select-refine-"+a).val();"ALL"===d?b=generateALLQuery(c,a):"ONE"===d?b=generateONEQuery(c):"EXCEPT"===d?b=generateEXCEPTQuery(c,a):"EXACT"===d&&(b=generateEXACTQuery(c,a))}""!==b&&($("#select-target-group-"+a+"-control").length&&(b="@"+$("#select-target-group-"+a+"-control").val()+"["+b+"]"),b="("+b+")");return b}
function generateALLQuery(a,b){var c="";b=$("#select-filter-word-"+b+"-proximity").val();c+='t"'+a+'"';0<b.length&&(c+="~"+b);return c}function generateONEQuery(a){return""+('u"'+a+'"')}function generateEXCEPTQuery(a,b){return""+('s"'+a+'"')}function generateEXACTQuery(a,b){return'e"'+a+'"'}
function generateQueryGroup(a){var b="",c="";if(null!=a.attr("id")){var d=a.attr("id").replace("initial","block-0"),c=$("#"+d+"-radio-and").is(":checked")?" \x26\x26 ":" || ",e=!0;a.children("fieldset").children(".item-advanced-search").children(".one-rule").each(function(){if(e)b+=generateQueryRule($(this)),e=!1;else{var a=generateQueryRule($(this));""!==a&&(b+=c+a)}});a.children("fieldset").children(".item-advanced-search").children(".group-rules").each(function(){if(e)b+=generateQueryGroup($(this)),
e=!1;else{var a=generateQueryGroup($(this));""!==a&&(b+=c+a)}})}""!==b&&(b="{"+b+"}",$("#select-target-group-"+a.attr("id")+"-control").length&&(b="@"+$("#select-target-group-"+a.attr("id")+"-control").val()+"["+b+"]"));return b}
function generatePreciseQuery(){var a=encodeURIComponent(window.location.search),b="all";$("#fonds").find(".form-check-input:checked").each(function(a,c){b=$(c).val().toLowerCase()});"legi"===b?(b="lois",a=a.replace(/tab_selection=all/g,"tab_selection\x3dlawarticledecree")):a=a.replace(/tab_selection=all/g,"tab_selection\x3d"+b);var c="/search/"+b,a=a.replace(/[?&]fonds=([^&#]*)/g,"");a.startsWith("?")||(a="?"+a);window.location.href=decodeURIComponent(c+a)}
function checkTargets(a){var b,c=$("input[name\x3d'tab_selection']:checked").val(),d=getConfigFromBaseSelected(c),e=[];"lawarticledecree"===c&&(c="lois");for(var f=0;f<tabTarget.length;f++)if(tabTarget[f].tabName.toLowerCase()===c.toLowerCase()){b=tabTarget[f];break}null!=d&&(e=d.targets.split(","),$(a).each(function(){$(this).find("input.radio-target").each(function(){showHideTargetAccordingToBase(this,e,d)})}),$(".form-advanced-search").each(function(){$(this).hide();$(this).attr("aria-hidden",
"true")}));null!=b&&($("#form_facette_"+b.tabName).show(),$("#form_facette_"+b.tabName).attr("aria-hidden","false"),$("#form_preference_affichage_"+b.tabName).show(),$("#form_preference_affichage_"+b.tabName).attr("aria-hidden","false"))}
function reinitPreciseFacet(){$(".search-filter-criterion input[type\x3d'text'], .search-filter-criterion input[type\x3d'hidden']").each(function(){$(this).val("")});$(".search-filter-criterion input[type\x3d'checkbox']").each(function(){this.checked=!1});$(".search-filter-criterion select option:selected").each(function(){this.selected=!1})}
$(function(){addEvent($(".page-advanced-search-form"));$(".advanced-search-reset-link").on("click keypress touch",function(a){a11yClick(a)&&reinitSearch()});$(".launch-search-btn").on("click keypress touch",function(a){if($(".block-input-errors").length)return!1;a11yClick(a)&&generateQuery()});$(".page-advanced-search-form .search-reset-cta").on("click keypress touch",function(a){a11yClick(a)&&resetInput(this)});$(".search-resume-modify").on("click keypress touch",function(a){a11yClick(a)&&generateEntryUrl()});
$(".search-resume-modify-precise").on("click keypress touch",function(a){a11yClick(a)&&generatePreciseQuery()});$("body").on("change","#group-initial .search-select .form-check-input",function(){var a=$(this);"tab_selection"===a.attr("name")?(updateAdvancedFacet(a.attr("value")),$("#group-initial .search-select").each(function(){changeSearchSelectLabel($(this))}),checkTargets($(".search-select-content"))):(a=a.closest(".search-select"),changeSearchSelectLabel(a))});$(".form-advanced-search\x3einput[type\x3d'text']").on("keypress",
function(a){13==a.keyCode&&generateQuery()});$(".form-advanced-search\x3einput[data-validation]").on("keyup",function(a){a=$(this).closest("div");isValidForm(a)});$("input[type\x3d'radio'][checked\x3d'checked']").each(function(){$(this).click()});$("body").hasClass("page-advanced-search-form")&&updateAdvancedFacet();updateSwitch();initializeFacetValue();initSearchTagFilter();initFacetCollapse();updateActions()});
function resetInput(a){$(a).closest("fieldset").find("input[type\x3d'text']").val("");$(a).closest("fieldset").find("input[type\x3d'text']").trigger("keyup");$(a).closest("fieldset").find("input[type\x3d'checkbox']:checked").each(function(){this.checked=!1});$(a).closest("fieldset").find("input[type\x3d'radio'][data-default\x3d'true']").click()}
function changeDateRangeEvent(a){var b=$("#"+a+"_start"),c=$("#"+a+"_end");b.length&&c.length&&(b=b.val(),0<c.val().length&&(b+=DEFAULT_DATE_RANGE_SEPARATOR+c.val()),$("#"+a).val(b))}
function initializeFacetValue(){if($("body").hasClass("page-advanced-search-form")){var a=location.search,b=getUrlParameter("origine"),c=getUrlParameter("typeRecherche");0<c.length&&"date"===c&&(a=removeUrlParam("etatTexte",a),a=removeUrlParam("etatArticle",a));a=a.substring(1);a=a.split("\x26");for(c=0;c<a.length;c++){var d=a[c].split("\x3d");if(1<d.length){var e=decodeURIComponent(d[1]).replace(/\+/g," "),e=e.replace(/"/g,'\\"');isCheckboxToBeInitialized(a,d)&&$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"checkbox"][name\x3d"'+
d[0]+'"][value\x3d"'+e+'"]').prop("checked","checked");$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"text"][name\x3d"'+d[0]+'"]').val(e);$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"hidden"][name\x3d"'+d[0]+'"]').val(e);var f=$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"hidden"][name\x3d"'+d[0]+'"]');if(f.length&&$("#"+f.attr("id")+"_start").length){var g=e.split(DEFAULT_DATE_RANGE_SEPARATOR);$("#"+f.attr("id")+"_start").val(g[0]);1<g.length&&$("#"+f.attr("id")+"_end").val(g[1])}$('div[id\x3d"form_facette_'+
b+'"] select[name\x3d"'+d[0]+'"] option[value\x3d"'+e+'"]').prop("selected",!0)}}}}function initFacetCollapse(){$(".form-advanced-search:visible .search-advanced-precise .search-filter .js-expandmore").each(function(){$(this).find(".tag-filter.is-visible").length&&$(this).click()})}function isNumberKey(a){a=a.which?a.which:event.keyCode;return 48>a||57<a?!1:!0}
function isCheckboxToBeInitialized(a,b){return!0!==a.includes("tab_selection\x3dlawarticledecree")&&!0!==a.includes("tab_selection\x3dcode")||!0===a.includes("typeRecherche\x3detat")||"facetteEtatArticle"!==b[0]&&"facetteEtatTexte"!==b[0]?!0:!1}
function adaptForAdvancedSearch(a){var b=/[?&]searchField=([^&#]*)/g,c=/[?&]query=([^&#]*)/g,d=!0,e,f,g,h;if(g=b.exec(a))e=decodeURIComponent(g[1]);if(g=c.exec(a))f=decodeURIComponent(g[1]);(g=/[?&]tab_selection=([^&#]*)/g.exec(a))&&decodeURIComponent(g[1]);if(void 0!==e&&void 0!==f){switch(e){case "NUM_ARTICLE":h="numArticle";break;case "NOR":h="nor";break;case "NUM":h="num";break;case "NUM_DEC":h="numDecision";break;case "NUM_AFFAIRE":h="numAffaire";break;case "IDCC":h="idcc";break;default:d=!1}!0===
d&&(a=a.replace(b,""),a=a.replace(c,""),a+="\x26"+encodeURIComponent(h)+"\x3d"+encodeURIComponent(f))}return a+"\x26isAdvancedResult\x3dtrue"}
function updateAdvancedFacet(a){var b=/[?&]tab_selection=([^&#]*)/g,c=$("input[name\x3d'tab_selection']:checked").val(),d;void 0===a&&(a=(d=b.exec(window.location.search))?d[1]:c?c:"all");b=getConfigFromBaseSelected(a);"lawarticledecree"===a&&(a="lois");var e=$("#form_facette_"+a);"true"!=e.attr("data-loaded")&&null!=b&&(b="/search/advancedFacet/"+b.base+"/"+window.location.search,$("#form_preference_affichage_"+a).hide(),$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),
c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:b,type:"GET",dataType:"html",success:function(b,c){e.empty();e.append(b);e.attr("data-loaded","true");e.attr("aria-hidden","false");e.show();$("#form_preference_affichage_"+a).show();$("#form_preference_affichage_"+a).attr("aria-hidden","false");$("#form_facette_"+a).find(".date-selector").each(function(a,b){instanciateDp(a,
b)});$("#form_facette_"+a).find(".filter-autocomplete").each(function(){var a=$(this);instantiateFilterAutocomplete(a)});$("form_facette_"+a).find(".search-select").each(function(){changeSearchSelectLabel($(this))});$("form_facette_"+a).find(".text-input").on("keydown",function(a){13==a.keyCode&&generateQuery()});$(".page-advanced-search-form .search-reset-cta").on("click keypress touch",function(a){a11yClick(a)&&resetInput(this)});$(".js-simple-tooltip").each(function(){accessibleSimpleTooltipAria.apply(this)});
initializeFacetValue();initSearchTagFilter();initCollapsibleRegions()},error:function(a,b,c){errorCallBack(a,b,c,"Erreur de chargement des facettes")}}))}function computeOperatorMessage(a,b){var c=document.getElementById("search-select-and-or-"+a);null!=c&&(c=c.textContent,document.getElementById("operator-message-"+a+"-"+b).innerHTML="\x3cstrong\x3e"+c+"\x3c/strong\x3e modifier l'opérateur")}function renitFocusAdvencedSearch(){document.getElementById("select-tab").focus({preventScroll:!1})}"use strict";
$(document).ready(function(){initPager()});
function initPager(){$("body").on("click keypress touch",".pager.type-ajax .pager-item a",function(a){if(a11yClick(a)){a.preventDefault();var b=$(this).attr("data-id"),c=$(this).attr("data-num");ajaxReloadForLink(b,a,c)}});$("body").on("click keypress touch",".pager.type-ajax .pager-previous a",function(a){if(a11yClick(a)){a.preventDefault();var b=$(this).attr("data-id");goToPreviousPage(b,a)}});$("body").on("click keypress touch",".pager.type-ajax .pager-next a",function(a){if(a11yClick(a)){a.preventDefault();
var b=$(this).attr("data-id");goToNextPage(b,a)}});$("body").on("click keypress touch",".pager.type-reload a",function(a){a11yClick(a)&&(a.preventDefault(),a=$(this).attr("data-num"),console.log(a),window.location.href=getUrl(a))});initPagerLinks()}
function sendFromLink(a){var b=$("#form_"+a);addCheckValueToForm(b);var c=b.serialize();if(a.valueOf()==(new String("boccTexts")).valueOf())var d=$.urlParam("id"),c=c+("\x26id\x3d"+d);b.hasClass("form-liste")?launchAjaxRequest("/liste/"+a,"/liste"+a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"/ajax",c,a,"lien",!1):launchAjaxRequest("/search/"+a,"/search"+a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"/ajax",c,a,"lien",!1);$("html, body").stop().animate({scrollTop:$("#main_"+a).offset().top},
2E3)}function ajaxReloadForLink(a,b,c){$("#page_"+a).val(c);sendFromLink(a)}function goToPreviousPage(a,b){b=$("#page_"+a).val();b=1*b-1;$("#page_"+a).val(b);sendFromLink(a)}function goToNextPage(a,b){b=$("#page_"+a).val();b=1*b+1;$("#page_"+a).val(b);sendFromLink(a)}
function getUrl(a){var b=window.location.toString();if(-1<b.indexOf("?")){var c=/&page=(\d+)/g,d=/\?page=(\d+)/g;return b.match(c)?b.replace(c,"\x26page\x3d"+a):b.match(d)?b.replace(d,"?page\x3d"+a):b+"\x26page\x3d"+a}return b+"?page\x3d"+a}
function initPagerLinks(){$(".pager .pager-item a").each(function(){var a=$(this).attr("data-num");isNaN(a)||$(this).attr("href",getUrl(a))});$(".pager .pager-previous a").each(function(){var a=$(this).attr("data-id"),a=$("#page_"+a).val(),a=parseInt(a,10)-1;isNaN(a)||$(this).attr("href",getUrl(a))});$(".pager .pager-next a").each(function(){var a=$(this).attr("data-id"),a=$("#page_"+a).val(),a=parseInt(a,10)+1;isNaN(a)||$(this).attr("href",getUrl(a))})}"use strict";$(document).ready(function(){});
function showHideHighlight(a){var b=window.location,c=b.href,d=b.pathname,b="/highlight/ajax"+d;getFond(d);a={highlight:getValueOfParmeter(c,"query"),checked:a};getOverlayOn();$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"application/json","Content-Type":"application/json"},url:b,type:"GET",data:a,dataType:"json",success:function(a){setMainColHighlighted(a);getOverlayOff()},
error:function(){getOverlayOff()}})}function setMainColHighlighted(a){isEmpty(a.content)||($(".main-col").replaceWith(a.content),initDatepickers(),initBtnActions(),showHideElement())}function getTitleClass(){return $(".main-title").length?".main-title":".main-title-light"}function getValueOfParmeter(a,b){var c="";a.includes(b+"\x3d")&&(a=a.split(b+"\x3d"),c=a[1].split(/\&(.+)/)[0]);c=c.replace(/\+/g," ");return c=decodeURI(c)}function getFond(a){a.toLowerCase();return a.split("/")[1]}
function getOverlayOn(){var a=$(".main-col").innerWidth(),b=$(".main-col").innerHeight(),c=$(".main-col").position().top;$("#overlayContent").fadeIn("slow");$("#overlayContent").css("width",a);$("#overlayContent").css("height",b);$("#overlayContent").css("top",c)}function getOverlayOff(){$("#overlayContent").fadeOut("slow")}String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a};
function isEmpty(a){switch(a){case "":case "null":case null:case "undefined":case void 0:case "undefined"==typeof a:case !1:return!0;default:return!1}}
function initBtnActions(){if(0<$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").length){var a=$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id");$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked")||$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").prop("checked","true"===Cookies.get("seeAbrogated-"+a));showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a)}$(".ajax-load-tab-liens").each(function(){$(this).on("click keypress touch",
{id:$(this).attr("id"),articleId:$(this).data("articleid"),date:$("#dateConsultation").val()},loadLien)});$(".ajax-load-tab-revision").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleCid:$(this).data("articlecid"),articleId:$(this).data("articleid"),texteCid:$(this).data("textecid"),complement:$(this).data("complement"),abrogated:$(this).data("abrogated"),num:$(this).data("num"),date:$("#dateConsultation").val(),fond:$(this).data("fond")},loadRevision)});bindNavDateChronoLink();
$(".search-chrono").on("click keypress touch",function(a){a11yClick(a)&&navigationDate($("#datepicker").val());9!==a.keyCode&&a.preventDefault()});$(".input-date-chrono").on("keypress",function(a){13==a.which&&navigationDate($("#datepicker").val())});$("#recherche-noeud").on("click touch keypress",function(a){a11yClick(a)&&rechercheNoeudCode()});$("#small-search-noeud").on("keypress",function(a){13===a.keyCode&&rechercheNoeudCode()});$("#reset-link-noeud").on("click touch keypress",function(a){a11yClick(a)&&
(reinitSearchNoeud(),$("#small-search-noeud").val(""))});$(".download-link-secure").each(function(){$(this).on("click touch keypress",{id:$(this).data("textid")},captchaLink)});$("#btnAfficheChrono").on("click touch keypress",loadChronolegi)};